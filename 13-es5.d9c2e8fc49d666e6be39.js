!function(){var e,t,c,n,a,i,o,b,r,l,d,u,s,f,p,m,T,h,g,v,y,U,w,C,S,E,z;function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,c){return t&&x(e.prototype,t),c&&x(e,c),e}function $(e,t,c){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,c){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(c):a.value}})(e,t,c||e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var c,n=R(e);if(t){var a=R(this).constructor;c=Reflect.construct(n,arguments,a)}else c=n.apply(this,arguments);return I(this,c)}}function I(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Zynk:function(x,Y,I){"use strict";I.r(Y),I.d(Y,"ShipsModule",function(){return Ue});var Q,M=I("3Pt+"),L=I("PCNd"),N=I("tyNb"),D=I("Z8VL"),_=I("btHo"),V=I("9UZh"),A=I("6WvD"),B=I("AwWS"),W=I("4rDX"),J=I("82i/"),X=I("9QbX"),Z=I("fXoL"),q=I("jhN1"),G=I("ZzPI"),H=I("6t9p"),K=((Q=function(e){O(c,e);var t=j(c);function c(e,n,a,i,o){var b;return k(this,c),(b=t.call(this,e,a,i)).raceService=n,b.titleService=o,b}return P(c,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(X.a," - Ships")),this.sizes=J.a.values(A.a),this.shipTypes=J.a.values(B.a),this.purposes=J.a.values(W.a),this.races=this.raceService.getEntities(),$(R(c.prototype),"ngOnInit",this).call(this)}},{key:"calculateWeapons",value:function(e){return e.weapons?e.weapons.length:0}},{key:"calculateTurrets",value:function(e){return e.turrets?e.turrets.length:0}},{key:"calculateShields",value:function(e){return e.shields?e.shields.filter(function(e){return!e.group}).length:0}}]),c}(D.a)).\u0275fac=function(e){return new(e||Q)(Z.Pb(_.a),Z.Pb(V.a),Z.Pb(N.c),Z.Pb(N.a),Z.Pb(q.c))},Q.\u0275cmp=Z.Jb({type:Q,selectors:[["ng-component"]],features:[Z.zb],decls:26,vars:23,consts:function(){return[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],"\u8230\u8239",[1,"card-body"],["keyExpr","id",3,"dataSource","allowColumnReordering","allowColumnResizing","showBorders","hoverStateEnabled","onCellClick"],[3,"showPageSizeSelector","showNavigationButtons"],["mode","multiple"],[3,"applyFilter","visible"],[3,"visible"],["dataField","name","caption","Name"],["dataField","race.id","caption","Race"],["valueExpr","id","displayExpr","name",3,"dataSource"],["dataField","type","caption","Type"],[3,"dataSource"],["dataField","size","caption","Size"],["dataField","purpose","caption","Purpose"],["name","weapons","caption","Weapons","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["name","turrets","caption","Turrets","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["name","shields","caption","Shields","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["dataField","people","caption","People","dataType","number"],["column","name","summaryType","count"]]},template:function(e,t){1&e&&(Z.Ub(0,"div",0),Z.Ub(1,"div",1),Z.Ub(2,"div",2),Z.Ub(3,"div",3),Z.Yb(4,4),Z.Tb(),Z.Ub(5,"div",5),Z.Ub(6,"dx-data-grid",6),Z.hc("onCellClick",function(e){return t.onRowSelect(e)}),Z.Qb(7,"dxo-pager",7),Z.Qb(8,"dxo-sorting",8),Z.Qb(9,"dxo-filter-row",9),Z.Qb(10,"dxo-filter-panel",10),Z.Qb(11,"dxi-column",11),Z.Ub(12,"dxi-column",12),Z.Qb(13,"dxo-lookup",13),Z.Tb(),Z.Ub(14,"dxi-column",14),Z.Qb(15,"dxo-lookup",15),Z.Tb(),Z.Ub(16,"dxi-column",16),Z.Qb(17,"dxo-lookup",15),Z.Tb(),Z.Ub(18,"dxi-column",17),Z.Qb(19,"dxo-lookup",15),Z.Tb(),Z.Qb(20,"dxi-column",18),Z.Qb(21,"dxi-column",19),Z.Qb(22,"dxi-column",20),Z.Qb(23,"dxi-column",21),Z.Ub(24,"dxo-summary"),Z.Qb(25,"dxi-total-item",22),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb()),2&e&&(Z.Cb(6),Z.pc("dataSource",t.entities)("allowColumnReordering",!0)("allowColumnResizing",!0)("showBorders",!0)("hoverStateEnabled",!0),Z.Cb(1),Z.pc("showPageSizeSelector",!0)("showNavigationButtons",!0),Z.Cb(2),Z.pc("applyFilter",t.currentFilter)("visible",!0),Z.Cb(1),Z.pc("visible",!0),Z.Cb(3),Z.pc("dataSource",t.races),Z.Cb(2),Z.pc("dataSource",t.shipTypes),Z.Cb(2),Z.pc("dataSource",t.sizes),Z.Cb(2),Z.pc("dataSource",t.purposes),Z.Cb(1),Z.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",t.calculateWeapons),Z.Cb(1),Z.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",t.calculateTurrets),Z.Cb(1),Z.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",t.calculateShields))},directives:[G.a,H.Y,H.jb,H.E,H.C,H.b,H.S,H.mb,H.l],encapsulation:2}),Q),ee=I("6mEA"),te=I("Lswn"),ce=I("ofXK");function ne(e,t){if(1&e&&(Z.Ub(0,"div",34),Z.Ub(1,"label",35),Z.Ec(2),Z.Tb(),Z.Tb()),2&e){var c=Z.jc(3);Z.Cb(2),Z.Fc(c.entity.description)}}var ae=function(e){return["/races",e]};function ie(e,t){if(1&e&&(Z.Ub(0,"span"),Z.Ub(1,"a",36),Z.Ec(2),Z.Tb(),Z.Tb()),2&e){var c=Z.jc(3);Z.Cb(1),Z.pc("routerLink",Z.sc(2,ae,c.entity.race.id)),Z.Cb(1),Z.Fc(c.entity.race.name)}}function oe(e,t){1&e&&(Z.Ub(0,"span"),Z.Ec(1," - "),Z.Tb())}var be=function(e){return["/factions/",e]};function re(e,t){if(1&e&&(Z.Ub(0,"li"),Z.Ub(1,"a",36),Z.Ec(2),Z.Tb(),Z.Tb()),2&e){var c=t.$implicit;Z.Cb(1),Z.pc("routerLink",Z.sc(2,be,c.id)),Z.Cb(1),Z.Fc(c.name)}}var le=function(e){return["/wares/",e]};function de(e,t){if(1&e&&(Z.Ub(0,"tr"),Z.Ub(1,"td"),Z.Ec(2),Z.Ub(3,"a",36),Z.Ec(4),Z.Tb(),Z.Tb(),Z.Ub(5,"td",49),Z.Ec(6),Z.kc(7,"number"),Z.Tb(),Z.Ub(8,"td",49),Z.Ec(9),Z.kc(10,"number"),Z.Tb(),Z.Ub(11,"td",49),Z.Ec(12),Z.kc(13,"number"),Z.Tb(),Z.Tb()),2&e){var c=t.$implicit;Z.Cb(2),Z.Gc(" ",c.amount," x "),Z.Cb(1),Z.pc("routerLink",Z.sc(12,le,c.ware.id)),Z.Cb(1),Z.Fc(c.ware.name),Z.Cb(2),Z.Fc(Z.lc(7,6,c.amount*c.ware.price.min)),Z.Cb(3),Z.Fc(Z.lc(10,8,c.amount*c.ware.price.max)),Z.Cb(3),Z.Fc(Z.lc(13,10,c.amount*c.ware.price.avg))}}function ue(e,t){if(1&e&&(Z.Ub(0,"div",10),Z.Ub(1,"div",45),Z.Ub(2,"h6"),Z.Yb(3,50),Z.Tb(),Z.Ub(4,"table",47),Z.Ub(5,"thead"),Z.Ub(6,"tr"),Z.Ub(7,"th"),Z.Yb(8,51),Z.Tb(),Z.Ub(9,"th",49),Z.Yb(10,52),Z.Tb(),Z.Ub(11,"th",49),Z.Yb(12,53),Z.Tb(),Z.Ub(13,"th",49),Z.Yb(14,54),Z.Tb(),Z.Tb(),Z.Tb(),Z.Ub(15,"tbody"),Z.Cc(16,de,14,14,"tr",22),Z.Tb(),Z.Ub(17,"tfoot"),Z.Ub(18,"tr"),Z.Ub(19,"th",49),Z.Yb(20,55),Z.Tb(),Z.Ub(21,"th",49),Z.Ec(22),Z.kc(23,"number"),Z.Tb(),Z.Ub(24,"th",49),Z.Ec(25),Z.kc(26,"number"),Z.Tb(),Z.Ub(27,"th",49),Z.Ec(28),Z.kc(29,"number"),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb()),2&e){var c=Z.jc().$implicit,n=Z.jc(4);Z.Cb(16),Z.pc("ngForOf",c.wares),Z.Cb(6),Z.Fc(Z.lc(23,4,n.getTotalMin(c))),Z.Cb(3),Z.Fc(Z.lc(26,6,n.getTotalMax(c))),Z.Cb(3),Z.Fc(Z.lc(29,8,n.getTotalAvg(c)))}}function se(e,t){if(1&e&&(Z.Ub(0,"div",39),Z.Ub(1,"div",40),Z.Ub(2,"div",41),Z.Ub(3,"span"),Z.Yb(4,42),Z.Tb(),Z.Ec(5,": "),Z.Ub(6,"em"),Z.Ec(7),Z.Tb(),Z.Tb(),Z.Ub(8,"div",43),Z.Cc(9,ue,30,10,"div",44),Z.Ub(10,"div",10),Z.Ub(11,"div",45),Z.Ub(12,"h6"),Z.Yb(13,46),Z.Tb(),Z.Ub(14,"table",47),Z.Ub(15,"tbody"),Z.Ub(16,"tr"),Z.Ub(17,"td"),Z.Yb(18,48),Z.Tb(),Z.Ub(19,"td",49),Z.Ec(20),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb()),2&e){var c=t.$implicit,n=Z.jc(4);Z.Cb(7),Z.Fc(c.name),Z.Cb(2),Z.pc("ngIf",c.wares.length),Z.Cb(11),Z.Fc(n.getProductionTime(c.time))}}function fe(e,t){if(1&e&&(Z.Ub(0,"div",37),Z.Cc(1,se,21,3,"div",38),Z.Tb()),2&e){var c=Z.jc(3);Z.Cb(1),Z.pc("ngForOf",c.entityProduction)}}function pe(e,t){if(1&e&&(Z.Ub(0,"div",8),Z.Cc(1,ne,3,1,"div",9),Z.Ub(2,"div",10),Z.Ub(3,"div",11),Z.Ub(4,"dl",10),Z.Ub(5,"dt",12),Z.Yb(6,13),Z.Tb(),Z.Ub(7,"dd",14),Z.Cc(8,ie,3,4,"span",15),Z.Cc(9,oe,2,0,"span",15),Z.Tb(),Z.Ub(10,"dt",12),Z.Yb(11,16),Z.Tb(),Z.Ub(12,"dd",14),Z.Ub(13,"span"),Z.Ec(14),Z.Tb(),Z.Tb(),Z.Ub(15,"dt",12),Z.Yb(16,17),Z.Tb(),Z.Ub(17,"dd",14),Z.Ec(18),Z.Tb(),Z.Ub(19,"dt",12),Z.Yb(20,18),Z.Tb(),Z.Ub(21,"dd",14),Z.Ec(22),Z.kc(23,"number"),Z.Tb(),Z.Ub(24,"dt",12),Z.Yb(25,19),Z.Tb(),Z.Ub(26,"dd",14),Z.Ub(27,"span"),Z.Ec(28),Z.kc(29,"number"),Z.Tb(),Z.Tb(),Z.Ub(30,"dt",12),Z.Yb(31,20),Z.Tb(),Z.Ub(32,"dd",14),Z.Ub(33,"ul",21),Z.Cc(34,re,3,4,"li",22),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Ub(35,"div",11),Z.Ub(36,"dl",10),Z.Ub(37,"dt",12),Z.Yb(38,23),Z.Tb(),Z.Ub(39,"dd",14),Z.Ec(40),Z.kc(41,"number"),Z.Tb(),Z.Ub(42,"dt",12),Z.Yb(43,24),Z.Tb(),Z.Ub(44,"dd",14),Z.Ec(45),Z.kc(46,"number"),Z.Tb(),Z.Ub(47,"dt",12),Z.Yb(48,25),Z.Tb(),Z.Ub(49,"dd",14),Z.Ec(50),Z.kc(51,"number"),Z.Tb(),Z.Ub(52,"dt",12),Z.Yb(53,26),Z.Tb(),Z.Ub(54,"dd",14),Z.Ec(55),Z.Tb(),Z.Tb(),Z.Tb(),Z.Ub(56,"div",11),Z.Ub(57,"dl",10),Z.Ub(58,"dt",12),Z.Yb(59,27),Z.Tb(),Z.Ub(60,"dd",14),Z.Ec(61),Z.Tb(),Z.Ub(62,"dt",12),Z.Yb(63,28),Z.Tb(),Z.Ub(64,"dd",14),Z.Ec(65),Z.Tb(),Z.Ub(66,"dt",12),Z.Yb(67,29),Z.Tb(),Z.Ub(68,"dd",14),Z.Ec(69),Z.Tb(),Z.Ub(70,"dt",12),Z.Yb(71,30),Z.Tb(),Z.Ub(72,"dd",14),Z.Ec(73),Z.Tb(),Z.Ub(74,"dt",12),Z.Yb(75,31),Z.Tb(),Z.Ub(76,"dd",14),Z.Ec(77),Z.Tb(),Z.Ub(78,"dt",12),Z.Yb(79,32),Z.Tb(),Z.Ub(80,"dd",14),Z.Ec(81),Z.Tb(),Z.Tb(),Z.Tb(),Z.Tb(),Z.Cc(82,fe,2,1,"div",33),Z.Tb()),2&e){var c=Z.jc(2);Z.Cb(1),Z.pc("ngIf","No information available"!=c.entity.description),Z.Cb(7),Z.pc("ngIf",c.entity.race),Z.Cb(1),Z.pc("ngIf",!c.entity.race),Z.Cb(5),Z.Fc(c.entity.type||"-"),Z.Cb(4),Z.Fc(c.entity.size),Z.Cb(4),Z.Fc(Z.lc(23,19,c.entity.hull)),Z.Cb(6),Z.Fc(Z.lc(29,21,c.entity.explosionDamage)||"-"),Z.Cb(6),Z.pc("ngForOf",c.entity.owners),Z.Cb(6),Z.Fc(null!=c.entity.storage&&c.entity.storage.missile?Z.lc(41,23,null==c.entity.storage?null:c.entity.storage.missile):"-"),Z.Cb(5),Z.Fc(null!=c.entity.storage&&c.entity.storage.unit?Z.lc(46,25,null==c.entity.storage?null:c.entity.storage.unit):"-"),Z.Cb(5),Z.Fc(Z.lc(51,27,c.entity.people)||"-"),Z.Cb(5),Z.Fc(c.entity.purpose),Z.Cb(6),Z.Fc(c.getSlotsStr(c.entity.engines)),Z.Cb(4),Z.Fc(c.getSlotsStr(c.entity.docks)),Z.Cb(4),Z.Fc(c.getSlotsStr(c.entity.weapons)),Z.Cb(4),Z.Fc(c.getSlotsStr(c.entity.turrets)),Z.Cb(4),Z.Fc(c.getSlotsStr(c.mainShields)),Z.Cb(4),Z.Fc(c.getSlotsStr(c.additionalShields)),Z.Cb(1),Z.pc("ngIf",c.entityProduction&&c.entityProduction.length)}}function me(e,t){if(1&e&&(Z.Ub(0,"div",3),Z.Ub(1,"div",4),Z.Ub(2,"a",5),Z.Yb(3,6),Z.Tb(),Z.Ec(4),Z.Tb(),Z.Cc(5,pe,83,29,"div",7),Z.Tb()),2&e){var c=Z.jc();Z.Cb(4),Z.Gc(" - ",c.entity.name," "),Z.Cb(1),Z.pc("ngIf",c.entity)}}var Te,he,ge,ve=((ge=function(e){O(c,e);var t=j(c);function c(e,n,a,i){var o;return k(this,c),(o=t.call(this,n,a)).wareService=e,o.titleService=i,o}return P(c,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(X.a," - Ships")),$(R(c.prototype),"ngOnInit",this).call(this)}},{key:"onEntityLoaded",value:function(e){var t=this;this.titleService.setTitle("".concat(X.a," - ").concat(e.name)),this.entityProduction=e.production.map(function(e){return{amount:e.amount,effects:e.effects,method:e.method,name:e.name,time:e.time,wares:e.wares.map(function(e){return{ware:t.wareService.getEntity(e.ware),amount:e.amount}})}})}},{key:"getTotalMin",value:function(e){var t=0;return e.wares.forEach(function(e){t+=e.amount*e.ware.price.min}),t}},{key:"getTotalMax",value:function(e){var t=0;return e.wares.forEach(function(e){t+=e.amount*e.ware.price.max}),t}},{key:"getTotalAvg",value:function(e){var t=0;return e.wares.forEach(function(e){t+=e.amount*e.ware.price.avg}),t}},{key:"getProductionTime",value:function(e){var t=Math.trunc(e/60),c=e-60*t,n="";return t>0&&(n+=t+(1===t?" minute":" minutes")),c>0&&(t>0&&(n+=" "),n+=c+(1===c?" second":" seconds")),n}},{key:"mainShields",get:function(){return this.entity.shields?this.entity.shields.filter(function(e){return!e.group}):[]}},{key:"additionalShields",get:function(){return this.entity.shields?this.entity.shields.filter(function(e){return e.group}):[]}},{key:"getSlotsStr",value:function(e){var t=this.getSlots(e);return 0==t.length?"-":t.map(function(e){return"".concat(e.capacity," x ").concat(e.size)}).join(", ")}},{key:"getSlots",value:function(e){if(!e)return[];var t=e.reduce(function(e,t){return e[t.size]=e[t.size]||0,e[t.size]+=t.capacity||1,e},{}),c=[];return Object.keys(t).forEach(function(e){c.push({size:e,capacity:t[e]})}),c}}]),c}(ee.a)).\u0275fac=function(e){return new(e||ge)(Z.Pb(te.a),Z.Pb(_.a),Z.Pb(N.a),Z.Pb(q.c))},ge.\u0275cmp=Z.Jb({type:ge,selectors:[["ng-component"]],features:[Z.zb],decls:3,vars:1,consts:function(){return[[1,"row","content-row"],[1,"col-md-12"],["class","card shadow",4,"ngIf"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["routerLink","/ships"],"\u8230\u8239",["class","card-body small",4,"ngIf"],[1,"card-body","small"],["class","form-group row",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-12"],[1,"col-5"],"\u79CD\u65CF",[1,"col-7"],[4,"ngIf"],"\u7C7B\u578B","\u5C3A\u5BF8","\u8239\u4F53","\u7206\u70B8\u4F24\u5BB3","\u62E5\u6709\u8005",[1,"list-unstyled"],[4,"ngFor","ngForOf"],"\u5BFC\u5F39\u5BB9\u91CF","\u65E0\u4EBA\u673A\u5BB9\u91CF","\u4E58\u5458\u6570","\u7528\u9014","\u5F15\u64CE","\u6CCA\u4F4D","\u6B66\u5668","\u70AE\u5854","\u4E3B\u62A4\u76FE","\u9644\u52A0\u62A4\u76FE",["class","row mt-2 mb-2",4,"ngIf"],[1,"form-group","row"],[1,"col","col-form-label","col-form-label-sm"],[3,"routerLink"],[1,"row","mt-2","mb-2"],["class","col-md-6 col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","col-lg-4"],[1,"card","shadow-sm"],[1,"card-header"],"\u4EA7\u54C1",[1,"card-body"],["class","row",4,"ngIf"],[1,"col"],"\u4EA7\u54C1",[1,"table","table-sm"],"\u65F6\u95F4",[1,"text-right"],"\u9700\u6C42","\u8D44\u6E90","\u6700\u5C0F\u503C","\u6700\u5927\u503C","\u5E73\u5747\u503C","\u5408\u8BA1:"]},template:function(e,t){1&e&&(Z.Ub(0,"div",0),Z.Ub(1,"div",1),Z.Cc(2,me,6,2,"div",2),Z.Tb(),Z.Tb()),2&e&&(Z.Cb(2),Z.pc("ngIf",t.entity))},directives:[ce.l,N.e,ce.k],pipes:[ce.d],encapsulation:2}),ge),ye=((he=function e(){k(this,e)}).\u0275fac=function(e){return new(e||he)},he.\u0275mod=Z.Nb({type:he}),he.\u0275inj=Z.Mb({imports:[[N.f.forChild([{path:"",component:K},{path:":id",component:ve}])],N.f]}),he),Ue=((Te=function e(){k(this,e)}).\u0275fac=function(e){return new(e||Te)},Te.\u0275mod=Z.Nb({type:Te}),Te.\u0275inj=Z.Mb({imports:[[ce.b,M.c,L.a,G.b,ye]]}),Te)}}])}();