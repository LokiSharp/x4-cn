(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Zynk:function(e,t,c){"use strict";c.r(t),c.d(t,"ShipsModule",function(){return O});var b=c("3Pt+"),a=c("PCNd"),i=c("tyNb"),n=c("Z8VL"),o=c("btHo"),l=c("9UZh"),r=c("6WvD"),d=c("AwWS"),s=c("4rDX"),u=c("82i/"),p=c("9QbX"),f=c("fXoL"),m=c("jhN1"),T=c("ZzPI"),g=c("6t9p");let U=(()=>{class e extends n.a{constructor(e,t,c,b,a){super(e,c,b),this.raceService=t,this.titleService=a}ngOnInit(){this.titleService.setTitle(`${p.a} - Ships`),this.sizes=u.a.values(r.a),this.shipTypes=u.a.values(d.a),this.purposes=u.a.values(s.a),this.races=this.raceService.getEntities(),super.ngOnInit()}calculateWeapons(e){return e.weapons?e.weapons.length:0}calculateTurrets(e){return e.turrets?e.turrets.length:0}calculateShields(e){return e.shields?e.shields.filter(e=>!e.group).length:0}}return e.\u0275fac=function(t){return new(t||e)(f.Pb(o.a),f.Pb(l.a),f.Pb(i.c),f.Pb(i.a),f.Pb(m.c))},e.\u0275cmp=f.Jb({type:e,selectors:[["ng-component"]],features:[f.zb],decls:26,vars:23,consts:function(){let e;return e="\u8230\u8239",[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],e,[1,"card-body"],["keyExpr","id",3,"dataSource","allowColumnReordering","allowColumnResizing","showBorders","hoverStateEnabled","onCellClick"],[3,"showPageSizeSelector","showNavigationButtons"],["mode","multiple"],[3,"applyFilter","visible"],[3,"visible"],["dataField","name","caption","Name"],["dataField","race.id","caption","Race"],["valueExpr","id","displayExpr","name",3,"dataSource"],["dataField","type","caption","Type"],[3,"dataSource"],["dataField","size","caption","Size"],["dataField","purpose","caption","Purpose"],["name","weapons","caption","Weapons","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["name","turrets","caption","Turrets","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["name","shields","caption","Shields","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["dataField","people","caption","People","dataType","number"],["column","name","summaryType","count"]]},template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Ub(2,"div",2),f.Ub(3,"div",3),f.Yb(4,4),f.Tb(),f.Ub(5,"div",5),f.Ub(6,"dx-data-grid",6),f.hc("onCellClick",function(e){return t.onRowSelect(e)}),f.Qb(7,"dxo-pager",7),f.Qb(8,"dxo-sorting",8),f.Qb(9,"dxo-filter-row",9),f.Qb(10,"dxo-filter-panel",10),f.Qb(11,"dxi-column",11),f.Ub(12,"dxi-column",12),f.Qb(13,"dxo-lookup",13),f.Tb(),f.Ub(14,"dxi-column",14),f.Qb(15,"dxo-lookup",15),f.Tb(),f.Ub(16,"dxi-column",16),f.Qb(17,"dxo-lookup",15),f.Tb(),f.Ub(18,"dxi-column",17),f.Qb(19,"dxo-lookup",15),f.Tb(),f.Qb(20,"dxi-column",18),f.Qb(21,"dxi-column",19),f.Qb(22,"dxi-column",20),f.Qb(23,"dxi-column",21),f.Ub(24,"dxo-summary"),f.Qb(25,"dxi-total-item",22),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e&&(f.Cb(6),f.pc("dataSource",t.entities)("allowColumnReordering",!0)("allowColumnResizing",!0)("showBorders",!0)("hoverStateEnabled",!0),f.Cb(1),f.pc("showPageSizeSelector",!0)("showNavigationButtons",!0),f.Cb(2),f.pc("applyFilter",t.currentFilter)("visible",!0),f.Cb(1),f.pc("visible",!0),f.Cb(3),f.pc("dataSource",t.races),f.Cb(2),f.pc("dataSource",t.shipTypes),f.Cb(2),f.pc("dataSource",t.sizes),f.Cb(2),f.pc("dataSource",t.purposes),f.Cb(1),f.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",t.calculateWeapons),f.Cb(1),f.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",t.calculateTurrets),f.Cb(1),f.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",t.calculateShields))},directives:[T.a,g.Y,g.jb,g.E,g.C,g.b,g.S,g.mb,g.l],encapsulation:2}),e})();var h=c("6mEA"),w=c("Lswn"),C=c("ofXK");function y(e,t){if(1&e&&(f.Ub(0,"div",34),f.Ub(1,"label",35),f.Ec(2),f.Tb(),f.Tb()),2&e){const e=f.jc(3);f.Cb(2),f.Fc(e.entity.description)}}const S=function(e){return["/races",e]};function v(e,t){if(1&e&&(f.Ub(0,"span"),f.Ub(1,"a",36),f.Ec(2),f.Tb(),f.Tb()),2&e){const e=f.jc(3);f.Cb(1),f.pc("routerLink",f.sc(2,S,e.entity.race.id)),f.Cb(1),f.Fc(e.entity.race.name)}}function F(e,t){1&e&&(f.Ub(0,"span"),f.Ec(1," - "),f.Tb())}const z=function(e){return["/factions/",e]};function E(e,t){if(1&e&&(f.Ub(0,"li"),f.Ub(1,"a",36),f.Ec(2),f.Tb(),f.Tb()),2&e){const e=t.$implicit;f.Cb(1),f.pc("routerLink",f.sc(2,z,e.id)),f.Cb(1),f.Fc(e.name)}}const x=function(e){return["/wares/",e]};function $(e,t){if(1&e&&(f.Ub(0,"tr"),f.Ub(1,"td"),f.Ec(2),f.Ub(3,"a",36),f.Ec(4),f.Tb(),f.Tb(),f.Ub(5,"td",49),f.Ec(6),f.kc(7,"number"),f.Tb(),f.Ub(8,"td",49),f.Ec(9),f.kc(10,"number"),f.Tb(),f.Ub(11,"td",49),f.Ec(12),f.kc(13,"number"),f.Tb(),f.Tb()),2&e){const e=t.$implicit;f.Cb(2),f.Gc(" ",e.amount," x "),f.Cb(1),f.pc("routerLink",f.sc(12,x,e.ware.id)),f.Cb(1),f.Fc(e.ware.name),f.Cb(2),f.Fc(f.lc(7,6,e.amount*e.ware.price.min)),f.Cb(3),f.Fc(f.lc(10,8,e.amount*e.ware.price.max)),f.Cb(3),f.Fc(f.lc(13,10,e.amount*e.ware.price.avg))}}function k(e,t){if(1&e&&(f.Ub(0,"div",10),f.Ub(1,"div",45),f.Ub(2,"h6"),f.Yb(3,50),f.Tb(),f.Ub(4,"table",47),f.Ub(5,"thead"),f.Ub(6,"tr"),f.Ub(7,"th"),f.Yb(8,51),f.Tb(),f.Ub(9,"th",49),f.Yb(10,52),f.Tb(),f.Ub(11,"th",49),f.Yb(12,53),f.Tb(),f.Ub(13,"th",49),f.Yb(14,54),f.Tb(),f.Tb(),f.Tb(),f.Ub(15,"tbody"),f.Cc(16,$,14,14,"tr",22),f.Tb(),f.Ub(17,"tfoot"),f.Ub(18,"tr"),f.Ub(19,"th",49),f.Yb(20,55),f.Tb(),f.Ub(21,"th",49),f.Ec(22),f.kc(23,"number"),f.Tb(),f.Ub(24,"th",49),f.Ec(25),f.kc(26,"number"),f.Tb(),f.Ub(27,"th",49),f.Ec(28),f.kc(29,"number"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e){const e=f.jc().$implicit,t=f.jc(4);f.Cb(16),f.pc("ngForOf",e.wares),f.Cb(6),f.Fc(f.lc(23,4,t.getTotalMin(e))),f.Cb(3),f.Fc(f.lc(26,6,t.getTotalMax(e))),f.Cb(3),f.Fc(f.lc(29,8,t.getTotalAvg(e)))}}function Y(e,t){if(1&e&&(f.Ub(0,"div",39),f.Ub(1,"div",40),f.Ub(2,"div",41),f.Ub(3,"span"),f.Yb(4,42),f.Tb(),f.Ec(5,": "),f.Ub(6,"em"),f.Ec(7),f.Tb(),f.Tb(),f.Ub(8,"div",43),f.Cc(9,k,30,10,"div",44),f.Ub(10,"div",10),f.Ub(11,"div",45),f.Ub(12,"h6"),f.Yb(13,46),f.Tb(),f.Ub(14,"table",47),f.Ub(15,"tbody"),f.Ub(16,"tr"),f.Ub(17,"td"),f.Yb(18,48),f.Tb(),f.Ub(19,"td",49),f.Ec(20),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e){const e=t.$implicit,c=f.jc(4);f.Cb(7),f.Fc(e.name),f.Cb(2),f.pc("ngIf",e.wares.length),f.Cb(11),f.Fc(c.getProductionTime(e.time))}}function P(e,t){if(1&e&&(f.Ub(0,"div",37),f.Cc(1,Y,21,3,"div",38),f.Tb()),2&e){const e=f.jc(3);f.Cb(1),f.pc("ngForOf",e.entityProduction)}}function I(e,t){if(1&e&&(f.Ub(0,"div",8),f.Cc(1,y,3,1,"div",9),f.Ub(2,"div",10),f.Ub(3,"div",11),f.Ub(4,"dl",10),f.Ub(5,"dt",12),f.Yb(6,13),f.Tb(),f.Ub(7,"dd",14),f.Cc(8,v,3,4,"span",15),f.Cc(9,F,2,0,"span",15),f.Tb(),f.Ub(10,"dt",12),f.Yb(11,16),f.Tb(),f.Ub(12,"dd",14),f.Ub(13,"span"),f.Ec(14),f.Tb(),f.Tb(),f.Ub(15,"dt",12),f.Yb(16,17),f.Tb(),f.Ub(17,"dd",14),f.Ec(18),f.Tb(),f.Ub(19,"dt",12),f.Yb(20,18),f.Tb(),f.Ub(21,"dd",14),f.Ec(22),f.kc(23,"number"),f.Tb(),f.Ub(24,"dt",12),f.Yb(25,19),f.Tb(),f.Ub(26,"dd",14),f.Ub(27,"span"),f.Ec(28),f.kc(29,"number"),f.Tb(),f.Tb(),f.Ub(30,"dt",12),f.Yb(31,20),f.Tb(),f.Ub(32,"dd",14),f.Ub(33,"ul",21),f.Cc(34,E,3,4,"li",22),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(35,"div",11),f.Ub(36,"dl",10),f.Ub(37,"dt",12),f.Yb(38,23),f.Tb(),f.Ub(39,"dd",14),f.Ec(40),f.kc(41,"number"),f.Tb(),f.Ub(42,"dt",12),f.Yb(43,24),f.Tb(),f.Ub(44,"dd",14),f.Ec(45),f.kc(46,"number"),f.Tb(),f.Ub(47,"dt",12),f.Yb(48,25),f.Tb(),f.Ub(49,"dd",14),f.Ec(50),f.kc(51,"number"),f.Tb(),f.Ub(52,"dt",12),f.Yb(53,26),f.Tb(),f.Ub(54,"dd",14),f.Ec(55),f.Tb(),f.Tb(),f.Tb(),f.Ub(56,"div",11),f.Ub(57,"dl",10),f.Ub(58,"dt",12),f.Yb(59,27),f.Tb(),f.Ub(60,"dd",14),f.Ec(61),f.Tb(),f.Ub(62,"dt",12),f.Yb(63,28),f.Tb(),f.Ub(64,"dd",14),f.Ec(65),f.Tb(),f.Ub(66,"dt",12),f.Yb(67,29),f.Tb(),f.Ub(68,"dd",14),f.Ec(69),f.Tb(),f.Ub(70,"dt",12),f.Yb(71,30),f.Tb(),f.Ub(72,"dd",14),f.Ec(73),f.Tb(),f.Ub(74,"dt",12),f.Yb(75,31),f.Tb(),f.Ub(76,"dd",14),f.Ec(77),f.Tb(),f.Ub(78,"dt",12),f.Yb(79,32),f.Tb(),f.Ub(80,"dd",14),f.Ec(81),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Cc(82,P,2,1,"div",33),f.Tb()),2&e){const e=f.jc(2);f.Cb(1),f.pc("ngIf","No information available"!=e.entity.description),f.Cb(7),f.pc("ngIf",e.entity.race),f.Cb(1),f.pc("ngIf",!e.entity.race),f.Cb(5),f.Fc(e.entity.type||"-"),f.Cb(4),f.Fc(e.entity.size),f.Cb(4),f.Fc(f.lc(23,19,e.entity.hull)),f.Cb(6),f.Fc(f.lc(29,21,e.entity.explosionDamage)||"-"),f.Cb(6),f.pc("ngForOf",e.entity.owners),f.Cb(6),f.Fc(null!=e.entity.storage&&e.entity.storage.missile?f.lc(41,23,null==e.entity.storage?null:e.entity.storage.missile):"-"),f.Cb(5),f.Fc(null!=e.entity.storage&&e.entity.storage.unit?f.lc(46,25,null==e.entity.storage?null:e.entity.storage.unit):"-"),f.Cb(5),f.Fc(f.lc(51,27,e.entity.people)||"-"),f.Cb(5),f.Fc(e.entity.purpose),f.Cb(6),f.Fc(e.getSlotsStr(e.entity.engines)),f.Cb(4),f.Fc(e.getSlotsStr(e.entity.docks)),f.Cb(4),f.Fc(e.getSlotsStr(e.entity.weapons)),f.Cb(4),f.Fc(e.getSlotsStr(e.entity.turrets)),f.Cb(4),f.Fc(e.getSlotsStr(e.mainShields)),f.Cb(4),f.Fc(e.getSlotsStr(e.additionalShields)),f.Cb(1),f.pc("ngIf",e.entityProduction&&e.entityProduction.length)}}function Q(e,t){if(1&e&&(f.Ub(0,"div",3),f.Ub(1,"div",4),f.Ub(2,"a",5),f.Yb(3,6),f.Tb(),f.Ec(4),f.Tb(),f.Cc(5,I,83,29,"div",7),f.Tb()),2&e){const e=f.jc();f.Cb(4),f.Gc(" - ",e.entity.name," "),f.Cb(1),f.pc("ngIf",e.entity)}}let j=(()=>{class e extends h.a{constructor(e,t,c,b){super(t,c),this.wareService=e,this.titleService=b}ngOnInit(){this.titleService.setTitle(`${p.a} - Ships`),super.ngOnInit()}onEntityLoaded(e){this.titleService.setTitle(`${p.a} - ${e.name}`),this.entityProduction=e.production.map(e=>({amount:e.amount,effects:e.effects,method:e.method,name:e.name,time:e.time,wares:e.wares.map(e=>({ware:this.wareService.getEntity(e.ware),amount:e.amount}))}))}getTotalMin(e){let t=0;return e.wares.forEach(e=>{t+=e.amount*e.ware.price.min}),t}getTotalMax(e){let t=0;return e.wares.forEach(e=>{t+=e.amount*e.ware.price.max}),t}getTotalAvg(e){let t=0;return e.wares.forEach(e=>{t+=e.amount*e.ware.price.avg}),t}getProductionTime(e){const t=Math.trunc(e/60),c=e-60*t;let b="";return t>0&&(b+=t+(1===t?" minute":" minutes")),c>0&&(t>0&&(b+=" "),b+=c+(1===c?" second":" seconds")),b}get mainShields(){return this.entity.shields?this.entity.shields.filter(e=>!e.group):[]}get additionalShields(){return this.entity.shields?this.entity.shields.filter(e=>e.group):[]}getSlotsStr(e){const t=this.getSlots(e);return 0==t.length?"-":t.map(e=>`${e.capacity} x ${e.size}`).join(", ")}getSlots(e){if(!e)return[];const t=e.reduce((e,t)=>(e[t.size]=e[t.size]||0,e[t.size]+=t.capacity||1,e),{}),c=[];return Object.keys(t).forEach(e=>{c.push({size:e,capacity:t[e]})}),c}}return e.\u0275fac=function(t){return new(t||e)(f.Pb(w.a),f.Pb(o.a),f.Pb(i.a),f.Pb(m.c))},e.\u0275cmp=f.Jb({type:e,selectors:[["ng-component"]],features:[f.zb],decls:3,vars:1,consts:function(){let e,t,c,b,a,i,n,o,l,r,d,s,u,p,f,m,T,g,U,h,w,C,y,S,v,F;return e="\u8230\u8239",t="\u79CD\u65CF",c="\u7C7B\u578B",b="\u5C3A\u5BF8",a="\u8239\u4F53",i="\u7206\u70B8\u4F24\u5BB3",n="\u62E5\u6709\u8005",o="\u5BFC\u5F39\u5BB9\u91CF",l="\u65E0\u4EBA\u673A\u5BB9\u91CF",r="\u4E58\u5458\u6570",d="\u7528\u9014",s="\u5F15\u64CE",u="\u6CCA\u4F4D",p="\u6B66\u5668",f="\u70AE\u5854",m="\u4E3B\u62A4\u76FE",T="\u9644\u52A0\u62A4\u76FE",g="\u4EA7\u54C1",U="\u4EA7\u54C1",h="\u65F6\u95F4",w="\u9700\u6C42",C="\u8D44\u6E90",y="\u6700\u5C0F\u503C",S="\u6700\u5927\u503C",v="\u5E73\u5747\u503C",F="\u5408\u8BA1:",[[1,"row","content-row"],[1,"col-md-12"],["class","card shadow",4,"ngIf"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["routerLink","/ships"],e,["class","card-body small",4,"ngIf"],[1,"card-body","small"],["class","form-group row",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-12"],[1,"col-5"],t,[1,"col-7"],[4,"ngIf"],c,b,a,i,n,[1,"list-unstyled"],[4,"ngFor","ngForOf"],o,l,r,d,s,u,p,f,m,T,["class","row mt-2 mb-2",4,"ngIf"],[1,"form-group","row"],[1,"col","col-form-label","col-form-label-sm"],[3,"routerLink"],[1,"row","mt-2","mb-2"],["class","col-md-6 col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","col-lg-4"],[1,"card","shadow-sm"],[1,"card-header"],g,[1,"card-body"],["class","row",4,"ngIf"],[1,"col"],U,[1,"table","table-sm"],h,[1,"text-right"],w,C,y,S,v,F]},template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Cc(2,Q,6,2,"div",2),f.Tb(),f.Tb()),2&e&&(f.Cb(2),f.pc("ngIf",t.entity))},directives:[C.l,i.e,C.k],pipes:[C.d],encapsulation:2}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Nb({type:e}),e.\u0275inj=f.Mb({imports:[[i.f.forChild([{path:"",component:U},{path:":id",component:j}])],i.f]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Nb({type:e}),e.\u0275inj=f.Mb({imports:[[C.b,b.c,a.a,T.b,M]]}),e})()}}]);