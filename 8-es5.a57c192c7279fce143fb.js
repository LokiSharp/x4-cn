!function(){var t,e,n,r,i,o,s,a,c,u,l,h,p,f,d,m,b,g,y,v,w,_,T,E,C,I,D,O,k,x,P,N,S,A,U,L,M,R,F,B,j,z,V,Y,W,$,G,q,X,H,Q,K,Z,J,tt,et,nt,rt,it,ot,st,at,ct;function ut(t){return function(t){if(Array.isArray(t))return ft(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||pt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||pt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=pt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function pt(t,e){if(t){if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e,n){return e&&wt(t.prototype,e),n&&wt(t,n),t}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+qE3":function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise(function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,console&&console.warn&&console.warn(a)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):b(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=b(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,f(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"0dQ4":function(t,e){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},"1+OA":function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l={}.hasOwnProperty;u=n("RfOz").isObject,c=n("kud4"),e=n("Bl63"),r=n("GI8a"),o=n("FYWk"),i=n("OzLs"),s=n("tuH/"),a=n("XCq/"),t.exports=function(t){function n(t,r,i){var o,s,a,c,l,h;if(n.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(s=0,a=(c=t.children).length;s<a;s++)if((o=c[s]).type===e.Element){this.name=o.name;break}this.documentObject=t,u(r)&&(r=(l=r).pubID,i=l.sysID),null==i&&(i=(h=[r,i])[0],r=h[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"entities",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type!==e.EntityDeclaration||t.pe||(i[t.name]=t);return new a(i)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type===e.NotationDeclaration&&(i[t.name]=t);return new a(i)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},n.prototype.attList=function(t,e,n,i,o){var s;return s=new r(this,t,e,n,i,o),this.children.push(s),this},n.prototype.entity=function(t,e){var n;return n=new o(this,!1,t,e),this.children.push(n),this},n.prototype.pEntity=function(t,e){var n;return n=new o(this,!0,t,e),this.children.push(n),this},n.prototype.notation=function(t,e){var n;return n=new s(this,t,e),this.children.push(n),this},n.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},n.prototype.ele=function(t,e){return this.element(t,e)},n.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},n.prototype.ent=function(t,e){return this.entity(t,e)},n.prototype.pent=function(t,e){return this.pEntity(t,e)},n.prototype.not=function(t,e){return this.notation(t,e)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.name===this.name&&t.publicId===this.publicId&&t.systemId===this.systemId},n}(c)}).call(this)},"62BN":function(t,e){e.every=function(t){return new i(t)};var n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var r in n)"millisecond"===r?n.ms=n[r]:n[r.charAt(0)]=n[r],n[r+"s"]=n[r];function i(t){this.count=0;var e=function(t){var e=t.match(o);return e&&n[e[2]]?e.slice(1):null}(t);e&&(this.time=Number(e[0])*n[e[1]],this.type=e[1])}i.prototype.do=function(t){this.time&&(this.interval=setInterval(function(){e.count++,t.call(e)},this.time));var e=this;return this},i.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var o=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/},"8BaB":function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n("Bl63"),r=n("V4+3"),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},n}(r)}).call(this)},BMbm:function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},Bl63:function(t,e){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},CDzl:function(t,e,n){(function(){"use strict";var t,r,i,o,s={}.hasOwnProperty;r=n("pn46"),t=n("QVo3"),i=n("qxDF"),o=n("gTaY"),e.defaults=r.defaults,e.processors=o,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=i.Parser,e.parseString=i.parseString,e.parseStringPromise=i.parseStringPromise}).call(this)},CYXk:function(t,e){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},Cm3p:function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},DD3b:function(t,e,n){var r=n("j0oL");function i(){r.call(this)}i.prototype=new r,t.exports=i,i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(u(),!this.hasListeners("error"))throw t}function u(){n.off("data",r),t.off("drain",i),n.off("end",s),n.off("close",a),n.off("error",c),t.off("error",c),n.off("end",u),n.off("close",u),t.off("end",u),t.off("close",u)}return n.on("error",c),t.on("error",c),n.on("end",u),n.on("close",u),t.on("end",u),t.on("close",u),t.emit("pipe",n),t}},Dh7r:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n("kud4"),e=n("Bl63"),t.exports=function(t){function n(t){n.__super__.constructor.call(this,t),this.type=e.Dummy}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return""},n}(r)}).call(this)},FYWk:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n("RfOz").isObject,r=n("kud4"),e=n("Bl63"),t.exports=function(t){function n(t,r,o,s){if(n.__super__.constructor.call(this,t),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!r,this.name=this.stringify.name(o),this.type=e.EntityDeclaration,i(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},"G/lS":function(t,e){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(this)},GI8a:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n("kud4"),e=n("Bl63"),t.exports=function(t){function n(t,r,i,o,s,a){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){var e,n,r=u(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HwjW:function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n("pLb+"),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.document=function(t,e){var n,r,i,o;for(e=this.filterOptions(e),i="",n=0,r=(o=t.children).length;n<r;n++)i+=this.writeChildNode(o[n],e,0);return e.pretty&&i.slice(-e.newline.length)===e.newline&&(i=i.slice(0,-e.newline.length)),i},e}(e)}).call(this)},IoDD:function(t,e,n){(function(){var e;e=n("Bl63"),n("kud4"),t.exports=function(){function t(t,n,r){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&t.prefix===this.prefix&&t.localName===this.localName&&t.value===this.value},t}()}).call(this)},Jclc:function(t,e,n){"use strict";var r=/([=:@$/])/g,i=/([&;/])/g,o=/[=:@$]/,s=/[&;]/;function a(t,e){return encodeURI(t.replace(e,"/$1"))}t.exports={stringify:function t(e,n){if(!n)return function(t){return"string"==typeof t?t.replace(/;+$/g,""):t}(t(e,!0));if("number"==typeof e||!0===e||!1===e||null===e)return":"+e;var o=[];if(e instanceof Array){for(var s=0;s<e.length;++s)o.push(void 0===e[s]?":null":t(e[s],!0));return"@"+o.join("&")+";"}if("object"==typeof e){for(var c in e){var u=t(e[c],!0);u&&o.push(a(c,r)+u)}return"$"+o.join("&")+";"}return void 0!==e?"="+a(e.toString(),i):void 0},parse:function(t){var e=0;function n(n){for(var r="";e!==t.length;++e){if("/"===t.charAt(e)){if((e+=1)===t.length){r+=";";break}}else if(t.charAt(e).match(n))break;r+=t.charAt(e)}return r}return t=decodeURI(t),function r(){var i,a=t.charAt(e++);if("="===a)return n(s);if(":"===a){var c=n(s);return"true"===c||"false"!==c&&(c=parseFloat(c),isNaN(c)?null:c)}if("@"===a){i=[];t:if(!(e>=t.length||";"===t.charAt(e)))for(;;){if(i.push(r()),e>=t.length||";"===t.charAt(e))break t;e+=1}return e+=1,i}if("$"===a){i={};t:if(!(e>=t.length||";"===t.charAt(e)))for(;;){if(i[n(o)]=r(),e>=t.length||";"===t.charAt(e))break t;e+=1}return e+=1,i}throw new Error("Unexpected char "+a)}()}}},KCRw:function(pt,ft,bt){"use strict";bt.r(ft),bt.d(ft,"StationModule",function(){return Hr});var yt,vt,wt=bt("fXoL"),Et=bt("ofXK"),Ct="undefined"!=typeof Intl&&Intl.v8BreakIterator,It=((vt=function t(e){Tt(this,t),this._platformId=e,this.isBrowser=this._platformId?Object(Et.z)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ct)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||vt)(wt.dc(wt.D,8))},vt.\u0275prov=wt.Lb({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt.ngInjectableDef=Object(wt.U)({factory:function(){return new vt(Object(wt.X)(wt.D,8))},token:vt,providedIn:"root"}),vt);function Dt(t){return function(){if(null==yt&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return yt=!0}}))}finally{yt=yt||!1}return yt}()?t:!!t.capture}var Ot={NORMAL:0,NEGATED:1,INVERTED:2};Ot[Ot.NORMAL]="NORMAL",Ot[Ot.NEGATED]="NEGATED",Ot[Ot.INVERTED]="INVERTED";var kt=bt("XNiG"),xt=bt("quSY"),Pt=bt("HDdC");function Nt(t){return null!=t&&"false"!="".concat(t)}var St=bt("IzEk"),At=bt("JX91"),Ut=bt("LRne"),Lt=bt("xgIS");bt("3N8a"),bt("IjjT");var Mt=bt("VRyK"),Rt=(bt("/uUt"),bt("D0XW")),Ft=bt("zx2A"),Bt=function(){function t(e){Tt(this,t),this.durationSelector=e}return _t(t,[{key:"call",value:function(t,e){return e.subscribe(new jt(t,this.durationSelector))}}]),t}(),jt=function(t){mt(n,t);var e=gt(n);function n(t,r){var i;return Tt(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _t(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(Ft.c)(e,new Ft.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Ft.b),zt=bt("PqYM");bt("pLZG");var Vt=bt("1G5W");bt("7o/Q"),bt("eIep"),bt("WMd4"),bt("9ppp"),bt("Ylt2");var Yt,Wt,$t,Gt=new wt.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(wt.X)(Et.c)}}),qt=((Wt=function(){function t(e){if(Tt(this,t),this.value="ltr",this.change=new wt.n,e){var n=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return _t(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Wt)(wt.dc(Gt,8))},Wt.\u0275prov=wt.Lb({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Wt.ngInjectableDef=Object(wt.U)({factory:function(){return new Wt(Object(wt.X)(Gt,8))},token:Wt,providedIn:"root"}),Wt),Xt=((Yt=function(){function t(e,n){var r=this;Tt(this,t),this._platform=e,n.runOutsideAngular(function(){r._change=e.isBrowser?Object(Mt.a)(Object(Lt.a)(window,"resize"),Object(Lt.a)(window,"orientationchange")):Object(Ut.a)(),r._invalidateCache=r.change().subscribe(function(){return r._updateViewportSize()})})}return _t(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt.a;return e=function(){return Object(zt.a)(t,n)},function(t){return t.lift(new Bt(e))}}(t)):this._change}},{key:"_updateViewportSize",value:function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||Yt)(wt.dc(It),wt.dc(wt.B))},Yt.\u0275prov=wt.Lb({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt.ngInjectableDef=Object(wt.U)({factory:function(){return new Yt(Object(wt.X)(It),Object(wt.X)(wt.B))},token:Yt,providedIn:"root"}),Yt),Ht=Dt({passive:!1,capture:!0}),Qt=(($t=function(){function t(e,n){var r=this;Tt(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new kt.a,this.pointerUp=new kt.a,this._preventScrollListener=function(t){r._activeDragInstances.size&&t.preventDefault()},this._document=n}return _t(t,[{key:"registerDropContainer",value:function(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error('Drop instance with id "'.concat(t.id,'" has already been registered.'));this._dropInstances.add(t)}}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._preventScrollListener,Ht)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventScrollListener,Ht)}},{key:"startDragging",value:function(t,e){var n=this;if(this._activeDragInstances.add(t),1===this._activeDragInstances.size){var r=e.type.startsWith("touch"),i=r?"touchend":"mouseup";this._globalListeners.set(r?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Ht}).set(i,{handler:function(t){return n.pointerUp.next(t)},options:!0}),r||this._globalListeners.set("wheel",{handler:this._preventScrollListener,options:Ht}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(t,e){n._document.addEventListener(e,t.handler,t.options)})})}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"getDropContainer",value:function(t){return Array.from(this._dropInstances).find(function(e){return e.id===t})}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(e,n){t._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||$t)(wt.dc(wt.B),wt.dc(Et.c))},$t.\u0275prov=wt.Lb({token:$t,factory:$t.\u0275fac,providedIn:"root"}),$t.ngInjectableDef=Object(wt.U)({factory:function(){return new $t(Object(wt.X)(wt.B),Object(wt.X)(Et.c))},token:$t,providedIn:"root"}),$t),Kt=new wt.s("CDK_DRAG_PARENT");function Zt(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Jt(t,e){var n=e?"":"none";Zt(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}var te,ee,ne,re=((ne=function(){function t(e,n){Tt(this,t),this.element=e,this._disabled=!1,this._parentDrag=n,Jt(e.nativeElement,!1)}return _t(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Nt(t)}}]),t}()).\u0275fac=function(t){return new(t||ne)(wt.Pb(wt.l),wt.Pb(Kt,8))},ne.\u0275dir=wt.Kb({type:ne,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),ne),ie=((ee=function t(e){Tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||ee)(wt.Pb(wt.M))},ee.\u0275dir=wt.Kb({type:ee,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),ee),oe=((te=function t(e){Tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||te)(wt.Pb(wt.M))},te.\u0275dir=wt.Kb({type:te,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data"}}),te),se=new wt.s("CDK_DROP_LIST_CONTAINER");function ae(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function ce(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}var ue,le=new wt.s("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),he=Dt({passive:!0}),pe=Dt({passive:!1}),fe=((ue=function(){function t(e,n,r,i,o,s,a,c,u){var l=this;Tt(this,t),this.element=e,this.dropContainer=n,this._ngZone=i,this._viewContainerRef=o,this._viewportRuler=s,this._dragDropRegistry=a,this._config=c,this._dir=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new kt.a,this._moveEventSubscriptions=0,this._pointerMoveSubscription=xt.a.EMPTY,this._pointerUpSubscription=xt.a.EMPTY,this._rootElementInitSubscription=xt.a.EMPTY,this._disabled=!1,this.started=new wt.n,this.ended=new wt.n,this.entered=new wt.n,this.exited=new wt.n,this.dropped=new wt.n,this.moved=Pt.a.create(function(t){var e=l._moveEvents.subscribe(t);return l._moveEventSubscriptions++,function(){e.unsubscribe(),l._moveEventSubscriptions--}}),this._pointerDown=function(t){var e=l.getChildHandles();if(e.length){var n=e.find(function(e){var n=e.element.nativeElement,r=t.target;return!!r&&(r===n||n.contains(r))});!n||n.disabled||l.disabled||l._initializeDragSequence(n.element.nativeElement,t)}else l.disabled||l._initializeDragSequence(l._rootElement,t)},this._pointerMove=function(t){var e=l._getConstrainedPointerPosition(t);if(l._hasStartedDragging){if(l._hasMoved=!0,t.preventDefault(),l._updatePointerDirectionDelta(e),l.dropContainer)l._updateActiveDropContainer(e);else{var n=l._activeTransform;n.x=e.x-l._pickupPositionOnPage.x+l._passiveTransform.x,n.y=e.y-l._pickupPositionOnPage.y+l._passiveTransform.y;var r=de(n.x,n.y);l._rootElement.style.transform=l._initialTransform?l._initialTransform+" "+r:r,"undefined"!=typeof SVGElement&&l._rootElement instanceof SVGElement&&l._rootElement.setAttribute("transform","translate(".concat(n.x," ").concat(n.y,")"))}l._moveEventSubscriptions>0&&l._ngZone.run(function(){l._moveEvents.next({source:l,pointerPosition:e,event:t,delta:l._pointerDirectionDelta})})}else Math.abs(e.x-l._pickupPositionOnPage.x)+Math.abs(e.y-l._pickupPositionOnPage.y)>=l._config.dragStartThreshold&&(l._hasStartedDragging=!0,l._ngZone.run(function(){return l._startDragSequence(t)}))},this._pointerUp=function(){if(l._isDragging()&&(l._removeSubscriptions(),l._dragDropRegistry.stopDragging(l),l._hasStartedDragging))return l.dropContainer?void l._animatePreviewToPlaceholder().then(function(){l._cleanupDragArtifacts(),l._dragDropRegistry.stopDragging(l)}):(l._passiveTransform.x=l._activeTransform.x,l._passiveTransform.y=l._activeTransform.y,l._ngZone.run(function(){return l.ended.emit({source:l})}),void l._dragDropRegistry.stopDragging(l))},this._document=r,a.registerDragItem(this)}return _t(t,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Nt(t)}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"reset",value:function(){this._rootElement.style.transform="",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"ngAfterViewInit",value:function(){var t=this;this._rootElementInitSubscription=this._ngZone.onStable.asObservable().pipe(Object(St.a)(1)).subscribe(function(){var e=t._rootElement=t._getRootElement();e.addEventListener("mousedown",t._pointerDown,pe),e.addEventListener("touchstart",t._pointerDown,he),t._handles.changes.pipe(Object(At.a)(null)).subscribe(function(){return Jt(e,t.getChildHandles().length>0)})})}},{key:"ngOnDestroy",value:function(){this._rootElement&&(this._rootElement.removeEventListener("mousedown",this._pointerDown,pe),this._rootElement.removeEventListener("touchstart",this._pointerDown,he),this._isDragging()&&this._removeElement(this._rootElement)),this._rootElementInitSubscription.unsubscribe(),this._destroyPreview(),this._destroyPlaceholder(),this._nextSibling=null,this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this._moveEvents.complete()}},{key:"_isDragging",value:function(){return this._dragDropRegistry.isDragging(this)}},{key:"getChildHandles",value:function(){var t=this;return this._handles.filter(function(e){return e._parentDrag===t})}},{key:"_initializeDragSequence",value:function(t,e){e.stopPropagation();var n=this._isDragging(),r=this._isTouchEvent(e),i=!r&&0!==e.button,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||i||o)){null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this.dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._pickupPositionInElement=this._previewTemplate?{x:0,y:0}:this._getPointerPositionInElement(t,e);var s=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:s.x,y:s.y},this._dragDropRegistry.startDragging(this,e)}}},{key:"_startDragSequence",value:function(t){if(this.started.emit({source:this}),this._isTouchEvent(t)&&(this._lastTouchEventTime=Date.now()),this.dropContainer){var e=this._rootElement;this._nextSibling=e.nextSibling;var n=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement();e.style.display="none",this._document.body.appendChild(e.parentNode.replaceChild(r,e)),this._document.body.appendChild(n),this.dropContainer.start()}}},{key:"_cleanupDragArtifacts",value:function(){var t=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.nativeElement.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._ngZone.run(function(){var e=t.dropContainer.getItemIndex(t);t.ended.emit({source:t}),t.dropped.emit({item:t,currentIndex:e,previousIndex:t._initialContainer.getItemIndex(t),container:t.dropContainer,previousContainer:t._initialContainer}),t.dropContainer.drop(t,e,t._initialContainer),t.dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t){var e=this,n=t.x,r=t.y,i=this.dropContainer._getSiblingContainerFromPosition(this,n,r);!i&&this.dropContainer!==this._initialContainer&&this._initialContainer._canReturnItem(n,r)&&(i=this._initialContainer),i&&this._ngZone.run(function(){e.exited.emit({item:e,container:e.dropContainer}),e.dropContainer.exit(e),e.entered.emit({item:e,container:i}),e.dropContainer=i,e.dropContainer.enter(e,n,r)}),this.dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this._preview.style.transform=de(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t;if(this._previewTemplate){var e=this._viewContainerRef.createEmbeddedView(this._previewTemplate.templateRef,this._previewTemplate.data);t=e.rootNodes[0],this._previewRef=e,t.style.transform=de(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var n=this._rootElement,r=n.getBoundingClientRect();(t=me(n)).style.width="".concat(r.width,"px"),t.style.height="".concat(r.height,"px"),t.style.transform=de(r.left,r.top)}return Zt(t.style,{position:"fixed",top:"0",left:"0",zIndex:"1000"}),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._dir?this._dir.value:"ltr"),t}},{key:"_createPlaceholderElement",value:function(){var t;return this._placeholderTemplate?(this._placeholderRef=this._viewContainerRef.createEmbeddedView(this._placeholderTemplate.templateRef,this._placeholderTemplate.data),t=this._placeholderRef.rootNodes[0]):t=me(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=this._isTouchEvent(e)?e.targetTouches[0]:e;return{x:i.left-n.left+(o.pageX-i.left-this._scrollPosition.left),y:i.top-n.top+(o.pageY-i.top-this._scrollPosition.top)}}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=de(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=ce(e,"transition-property"),r=n.find(function(t){return"transform"===t||"all"===t});if(!r)return 0;var i=n.indexOf(r),o=ce(e,"transition-duration"),s=ce(e,"transition-delay");return ae(o[i])+ae(s[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var r=function n(r){(!r||r.target===t._preview&&"transform"===r.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(r,1.5*n);t._preview.addEventListener("transitionend",r)})})}},{key:"_removeElement",value:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._isTouchEvent(t)?t.touches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._getPointerPositionOnPage(t),n=this.dropContainer?this.dropContainer.lockAxis:null;return"x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),e}},{key:"_isTouchEvent",value:function(t){return t.type.startsWith("touch")}},{key:"_destroyPreview",value:function(){this._preview&&this._removeElement(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&this._removeElement(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),s=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_getRootElement",value:function(){if(this.rootElementSelector)for(var t=this.rootElementSelector,e=this.element.nativeElement.parentElement;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return this.element.nativeElement}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ue)(wt.Pb(wt.l),wt.Pb(se,12),wt.Pb(Et.c),wt.Pb(wt.B),wt.Pb(wt.R),wt.Pb(Xt),wt.Pb(Qt),wt.Pb(le),wt.Pb(qt,8))},ue.\u0275dir=wt.Kb({type:ue,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var r;1&t&&(wt.Ib(n,oe,1),wt.Ib(n,ie,1),wt.Ib(n,re,1)),2&t&&(wt.vc(r=wt.ic())&&(e._previewTemplate=r.first),wt.vc(r=wt.ic())&&(e._placeholderTemplate=r.first),wt.vc(r=wt.ic())&&(e._handles=r))},hostAttrs:[1,"cdk-drag"],hostVars:2,hostBindings:function(t,e){2&t&&wt.Hb("cdk-drag-dragging",e._hasStartedDragging&&e._isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"]},outputs:{started:"cdkDragStarted",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[wt.Bb([{provide:Kt,useExisting:ue}])]}),ue);function de(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function me(t){var e=t.cloneNode(!0);return e.removeAttribute("id"),e}function be(t,e,n){var r=ge(e,t.length-1),i=ge(n,t.length-1);if(r!==i){for(var o=t[r],s=i<r?-1:1,a=r;a!==i;a+=s)t[a]=t[a+s];t[i]=o}}function ge(t,e){return Math.max(0,Math.min(e,t))}var ye,ve,we=((ve=function(){function t(){Tt(this,t),this._items=new Set}return _t(t,[{key:"ngOnDestroy",value:function(){this._items.clear()}}]),t}()).\u0275fac=function(t){return new(t||ve)},ve.\u0275dir=wt.Kb({type:ve,selectors:[["","cdkDropListGroup",""]],exportAs:["cdkDropListGroup"]}),ve),_e=0,Te=((ye=function(){function t(e,n,r,i,o){Tt(this,t),this.element=e,this._dragDropRegistry=n,this._changeDetectorRef=r,this._dir=i,this._group=o,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+_e++,this._disabled=!1,this.enterPredicate=function(){return!0},this.dropped=new wt.n,this.entered=new wt.n,this.exited=new wt.n,this.sorted=new wt.n,this._dragging=!1,this._positionCache={items:[],siblings:[],self:{}},this._previousSwap={drag:null,delta:0}}return _t(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Nt(t)}},{key:"ngOnInit",value:function(){this._dragDropRegistry.registerDropContainer(this),this._group&&this._group._items.add(this)}},{key:"ngOnDestroy",value:function(){this._dragDropRegistry.removeDropContainer(this),this._group&&this._group._items.delete(this)}},{key:"start",value:function(){this._dragging=!0,this._activeDraggables=this._draggables.toArray(),this._cachePositions(),this._changeDetectorRef.markForCheck()}},{key:"drop",value:function(t,e,n){this._reset(),this.dropped.emit({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n})}},{key:"enter",value:function(t,e,n){this.entered.emit({item:t,container:this}),this.start();var r=this._getItemIndexFromPointerPosition(t,e,n),i=this._activeDraggables.indexOf(t),o=this._activeDraggables[r],s=t.getPlaceholderElement();if(i>-1&&this._activeDraggables.splice(i,1),o&&!this._dragDropRegistry.isDragging(o)){var a=o.getRootElement();a.parentElement.insertBefore(s,a),this._activeDraggables.splice(r,0,t)}else this.element.nativeElement.appendChild(s),this._activeDraggables.push(t);s.style.transform="",this._cachePositions()}},{key:"exit",value:function(t){this._reset(),this.exited.emit({item:t,container:this})}},{key:"getItemIndex",value:function(t){return this._dragging?Ee("horizontal"===this.orientation&&this._dir&&"rtl"===this._dir.value?this._positionCache.items.slice().reverse():this._positionCache.items,function(e){return e.drag===t}):this._draggables.toArray().indexOf(t)}},{key:"_sortItem",value:function(t,e,n,r){var i=this;if(this._isPointerNearDropContainer(e,n)){var o=this._positionCache.items,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(!(-1===s&&o.length>0)){var a="horizontal"===this.orientation,c=Ee(o,function(e){return e.drag===t}),u=o[s],l=o[c].clientRect,h=u.clientRect,p=c>s?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y;var f=this._getItemOffsetPx(l,h,p),d=this._getSiblingOffsetPx(c,o,p),m=o.slice();be(o,c,s),this.sorted.emit({previousIndex:c,currentIndex:s,container:this,item:t}),o.forEach(function(e,n){if(m[n]!==e){var r=e.drag===t,o=r?f:d,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,a?(s.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),i._adjustClientRect(e.clientRect,0,o)):(s.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),i._adjustClientRect(e.clientRect,o,0))}})}}}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){var r=this._positionCache.siblings.find(function(t){return Ce(t.clientRect,e,n)});return r&&r.drop.enterPredicate(t,r.drop)?r.drop:null}},{key:"_canReturnItem",value:function(t,e){return Ce(this._positionCache.self,t,e)}},{key:"_cachePositions",value:function(){var t=this,e="horizontal"===this.orientation;this._positionCache.self=this.element.nativeElement.getBoundingClientRect(),this._positionCache.items=this._activeDraggables.map(function(e){var n=(t._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement()).getBoundingClientRect();return{drag:e,offset:0,clientRect:{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top}),this._positionCache.siblings=this._getConnectedLists().map(function(t){return{drop:t,clientRect:t.element.nativeElement.getBoundingClientRect()}})}},{key:"_reset",value:function(){this._dragging=!1,this._activeDraggables.forEach(function(t){return t.getRootElement().style.transform=""}),this._activeDraggables=[],this._positionCache.items=[],this._positionCache.siblings=[],this._previousSwap.drag=null,this._previousSwap.delta=0}},{key:"_adjustClientRect",value:function(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,r){var i=this,o="horizontal"===this.orientation;return Ee(this._positionCache.items,function(s,a,c){var u=s.drag,l=s.clientRect;if(u===t)return c.length<2;if(r){var h=o?r.x:r.y;if(u===i._previousSwap.drag&&h===i._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<=Math.floor(l.right):n>=Math.floor(l.top)&&n<=Math.floor(l.bottom)})}},{key:"_isPointerNearDropContainer",value:function(t,e){var n=this._positionCache.self,r=n.top,i=n.right,o=n.bottom,s=n.left,a=.05*n.width,c=.05*n.height;return e>r-c&&e<o+c&&t>s-a&&t<i+a}},{key:"_getItemOffsetPx",value:function(t,e,n){var r="horizontal"===this.orientation,i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var r="horizontal"===this.orientation,i=e[t].clientRect,o=e[t+-1*n],s=i[r?"width":"height"]*n;if(o){var a=r?"left":"top",c=r?"right":"bottom";-1===n?s-=o.clientRect[a]-i[c]:s+=i[a]-o.clientRect[c]}return s}},{key:"_getConnectedLists",value:function(){var t,e=this,n=(t=this.connectedTo,Array.isArray(t)?t:[t]).map(function(t){return"string"==typeof t?e._dragDropRegistry.getDropContainer(t):t});return this._group&&this._group._items.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n.filter(function(t){return t&&t!==e})}}]),t}()).\u0275fac=function(t){return new(t||ye)(wt.Pb(wt.l),wt.Pb(Qt),wt.Pb(wt.h),wt.Pb(qt,8),wt.Pb(we,12))},ye.\u0275dir=wt.Kb({type:ye,selectors:[["","cdkDropList",""],["cdk-drop-list"]],contentQueries:function(t,e,n){var r;1&t&&wt.Ib(n,fe,0),2&t&&wt.vc(r=wt.ic())&&(e._draggables=r)},hostAttrs:[1,"cdk-drop-list"],hostVars:3,hostBindings:function(t,e){2&t&&(wt.Xb("id",e.id),wt.Hb("cdk-drop-list-dragging",e._dragging))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],orientation:["cdkDropListOrientation","orientation"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],data:["cdkDropListData","data"],lockAxis:["cdkDropListLockAxis","lockAxis"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[wt.Bb([{provide:we,useValue:void 0},{provide:se,useExisting:ye}])]}),ye);function Ee(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Ce(t,e,n){var r=t.top,i=t.bottom,o=t.left,s=t.right;return n>=r&&n<=i&&e>=o&&e<=s}var Ie,De,Oe,ke,xe=((Ie=function t(){Tt(this,t)}).\u0275fac=function(t){return new(t||Ie)},Ie.\u0275mod=wt.Nb({type:Ie}),Ie.\u0275inj=wt.Mb({}),Ie),Pe=bt("3Pt+"),Ne=bt("1kSV"),Se=bt("PCNd"),Ae=bt("UYTb"),Ue=bt("kuWu"),Le=((De=function(){function t(){Tt(this,t)}return _t(t,[{key:"getLayouts",value:function(e){return e.map(function(e){return{name:e.name,config:e.config.map(function(e){return{moduleId:t.map[e.moduleId].moduleId,count:e.count}})}})}},{key:"getSaveData",value:function(t){return null}}]),t}()).map={1:{moduleId:Ue.b.module_gen_prod_energycells_01.id},2:{moduleId:Ue.b.module_gen_prod_water_01.id},3:{moduleId:Ue.b.module_arg_prod_meat_01.id},4:{moduleId:Ue.b.module_par_prod_majasnails_01.id},5:{moduleId:Ue.b.module_gen_prod_spices_01.id},6:{moduleId:Ue.b.module_arg_prod_wheat_01.id},7:{moduleId:Ue.b.module_par_prod_sojabeans_01.id},8:{moduleId:Ue.b.module_tel_prod_sunriseflowers_01.id},9:{moduleId:Ue.b.module_tel_prod_swampplant_01.id},10:{moduleId:Ue.b.module_arg_prod_medicalsupplies_01.id},11:{moduleId:Ue.b.module_tel_prod_medicalsupplies_01.id},12:{moduleId:Ue.b.module_par_prod_medicalsupplies_01.id},13:{moduleId:Ue.b.module_arg_prod_foodrations_01.id},14:{moduleId:Ue.b.module_par_prod_sojahusk_01.id},15:{moduleId:Ue.b.module_tel_prod_nostropoil_01.id},16:{moduleId:Ue.b.module_arg_prod_spacefuel_01.id},17:{moduleId:Ue.b.module_tel_prod_spaceweed_01.id},18:{moduleId:Ue.b.module_par_prod_majadust_01.id},19:{moduleId:Ue.b.module_gen_prod_refinedmetals_01.id},20:{moduleId:Ue.b.module_gen_prod_siliconwafers_01.id},21:{moduleId:Ue.b.module_gen_prod_antimattercells_01.id},22:{moduleId:Ue.b.module_gen_prod_graphene_01.id},23:{moduleId:Ue.b.module_gen_prod_superfluidcoolant_01.id},24:{moduleId:Ue.b.module_gen_prod_microchips_01.id},25:{moduleId:Ue.b.module_gen_prod_scanningarrays_01.id},26:{moduleId:Ue.b.module_gen_prod_hullparts_01},27:{moduleId:Ue.b.module_gen_prod_advancedcomposites_01.id},28:{moduleId:Ue.b.module_gen_prod_engineparts_01.id},29:{moduleId:Ue.b.module_gen_prod_plasmaconductors_01.id},30:{moduleId:Ue.b.module_gen_prod_quantumtubes_01.id},31:{moduleId:Ue.b.module_gen_prod_advancedelectronics_01.id},32:{moduleId:Ue.b.module_gen_prod_antimatterconverters_01.id},33:{moduleId:Ue.b.module_gen_prod_claytronics_01.id},34:{moduleId:Ue.b.module_gen_prod_dronecomponents_01.id},35:{moduleId:Ue.b.module_gen_prod_missilecomponents_01.id},36:{moduleId:Ue.b.module_gen_prod_shieldcomponents_01.id},37:{moduleId:Ue.b.module_gen_prod_turretcomponents_01.id},38:{moduleId:Ue.b.module_gen_prod_weaponcomponents_01.id},39:{moduleId:Ue.b.module_gen_prod_smartchips_01.id},40:{moduleId:Ue.b.module_gen_prod_fieldcoils_01.id}},De),Me=function(){function t(e){Tt(this,t),this.moduleService=e}return _t(t,[{key:"findModule",value:function(t,e){return this.moduleService.getModuleByWare(t,e)}},{key:"getLayouts",value:function(t){var e=this,n=t.layouts;return n?n.map(function(t){return{name:t.name,config:t.config.map(function(t){var n=e.findModule(t.moduleId,t.productionId);return{count:t.count,moduleId:n?n.id:null}}).filter(function(t){return null!=t.moduleId})}}):[]}},{key:"getSaveData",value:function(t){return{layouts:t}}}]),t}(),Re=function(){function t(){Tt(this,t)}return _t(t,[{key:"getLayouts",value:function(t){return t.layouts}},{key:"getSaveData",value:function(t){return{layouts:t}}}]),t}(),Fe=bt("ZXMZ"),Be=bt("zFYr"),je=((Oe=function(){function t(e,n,r){Tt(this,t),this.storageService=e,this.moduleService=n,this.analytics=r,this.services=[new Le,new Me(n),new Re]}return _t(t,[{key:"getCurrentService",value:function(){return this.services[t.version]}},{key:"getLayouts",value:function(){var e=this.storageService.get(t.storageKey)||{version:t.version};return this.services[e.version||0].getLayouts(e)||[]}},{key:"getLayout",value:function(t){return this.analytics.event({label:t,category:"Layouts",action:"Load Layout"}),this.getLayouts().find(function(e){return e.name===t})}},{key:"saveLayout",value:function(t){var e=this.getLayouts(),n=e.findIndex(function(e){return e.name.toLowerCase()===t.name.toLowerCase()});n>=0?e[n]=t:e.push(t),this.analytics.event({label:t.name,category:"Layouts",action:"Save Layout"}),this.saveLayoutsInternal(e)}},{key:"deleteLayout",value:function(t){this.analytics.event({label:t,category:"Layouts",action:"Delete Layout"});var e=this.getLayouts(),n=e.findIndex(function(e){return e.name.toLowerCase()===t.toLowerCase()});n>=0&&e.splice(n,1),this.saveLayoutsInternal(e)}},{key:"saveLayoutsInternal",value:function(e){var n=this.getCurrentService().getSaveData(e);this.storageService.add(t.storageKey,Object.assign(Object.assign({},n),{version:t.version}))}}]),t}()).version=2,Oe.storageKey="layouts",Oe.\u0275fac=function(t){return new(t||Oe)(wt.dc(Ae.a),wt.dc(Fe.a),wt.dc(Be.a))},Oe.\u0275prov=wt.Lb({token:Oe,factory:Oe.\u0275fac}),Oe),ze=bt("tyNb"),Ve=bt("Jclc"),Ye=bt("dXtl"),We=function(){var t=function t(){Tt(this,t)};return t.primary="primary",t.secondary="secondary",t.success="success",t.danger="danger",t.warning="warning",t.info="info",t}(),$e=bt("Lswn"),Ge=((ke=function t(e){Tt(this,t),this.activeModal=e}).\u0275fac=function(t){return new(t||ke)(wt.Pb(Ne.a))},ke.\u0275cmp=wt.Jb({type:ke,selectors:[["ng-component"]],inputs:{title:"title",message:"message"},decls:13,vars:2,consts:function(){return[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],"\u662F","\u5426"]},template:function(t,e){1&t&&(wt.Ub(0,"div",0),wt.Ub(1,"h4",1),wt.Ec(2),wt.Tb(),wt.Ub(3,"button",2),wt.hc("click",function(){return e.activeModal.dismiss()}),wt.Ub(4,"span",3),wt.Ec(5,"\xd7"),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(6,"div",4),wt.Qb(7,"p",5),wt.Tb(),wt.Ub(8,"div",6),wt.Ub(9,"button",7),wt.hc("click",function(){return e.activeModal.close(!0)}),wt.Yb(10,8),wt.Tb(),wt.Ub(11,"button",7),wt.hc("click",function(){return e.activeModal.close(!1)}),wt.Yb(12,9),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(2),wt.Fc(e.title),wt.Cb(5),wt.pc("innerHTML",e.message,wt.yc))},encapsulation:2}),ke);function qe(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"a",11),wt.hc("click",function(t){wt.xc(n);var r=e.$implicit;return wt.jc().loadLayout(t,r)}),wt.Ub(1,"div"),wt.Ub(2,"strong"),wt.Ec(3),wt.Tb(),wt.Ub(4,"div",12),wt.Ub(5,"a",13),wt.hc("click",function(t){wt.xc(n);var r=e.$implicit;return wt.jc().loadLayout(t,r)}),wt.Yb(6,14),wt.Tb(),wt.Ec(7," | "),wt.Ub(8,"a",15),wt.hc("click",function(t){wt.xc(n);var r=e.$implicit;return wt.jc().addLayout(t,r)}),wt.Yb(9,16),wt.Tb(),wt.Ec(10," | "),wt.Ub(11,"a",17),wt.hc("click",function(t){wt.xc(n);var r=e.$implicit;return wt.jc().deleteLayout(t,r)}),wt.Yb(12,18),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(13,"div",19),wt.Ec(14),wt.Tb(),wt.Tb()}if(2&t){var r=e.$implicit,i=wt.jc();wt.Cb(3),wt.Fc(r.name),wt.Cb(11),wt.Gc(" ",i.getModules(r)," ")}}var Xe,He,Qe,Ke,Ze=function(t){return t[t.load=0]="load",t[t.add=1]="add",t}({}),Je=((Qe=function(t){mt(n,t);var e=gt(n);function n(t,r,i,o){var s;return Tt(this,n),(s=e.call(this)).activeModal=t,s.modal=r,s.layoutService=i,s.moduleService=o,s}return _t(n,[{key:"ngOnInit",value:function(){var t=this;this.entities=this.layoutService.getLayouts().map(function(e){return{name:e.name,modules:e.config.map(function(e){return{count:e.count,module:t.moduleService.getEntity(e.moduleId)}})}})}},{key:"getModules",value:function(t){var e=!1,n=t.modules;return n.length>3&&(n=n.slice(0,3),e=!0),n.map(function(t){return t.count+" x "+(null==t.module?"":t.module.name)}).join(", ")+(e?"...":"")}},{key:"loadLayout",value:function(t,e){t.preventDefault(),t.stopPropagation(),this.activeModal.close({layoutName:e.name,type:Ze.load})}},{key:"addLayout",value:function(t,e){t.preventDefault(),t.stopPropagation(),this.activeModal.close({layoutName:e.name,type:Ze.add})}},{key:"deleteLayout",value:function(t,e){var n=this;t.preventDefault(),t.stopPropagation();var r=this.modal.open(Ge);r.componentInstance.title="Confirm Delete",r.componentInstance.message="Are you sure you want to delete <strong>".concat(e.name,"</strong>?"),r.result.then(function(t){t&&(n.layoutService.deleteLayout(e.name),n.ngOnInit())})}}]),n}(Ye.a)).\u0275fac=function(t){return new(t||Qe)(wt.Pb(Ne.a),wt.Pb(Ne.c),wt.Pb(je),wt.Pb(Fe.a))},Qe.\u0275cmp=wt.Jb({type:Qe,selectors:[["ng-component"]],features:[wt.zb],decls:12,vars:1,consts:function(){return[[1,"modal-header"],[1,"modal-title"],"\u8BFB\u53D6\u6A21\u677F",["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],"\u53D6\u6D88",[1,"list-group-item","list-group-item-action",3,"click"],[1,"float-right","small"],[1,"hover","text-primary",3,"click"],"\u8BFB\u53D6\u6A21\u677F",[1,"hover","text-secondary",3,"click"],"Add Layout",[1,"hover","text-danger",3,"click"],"Delete Layout",[1,"small"]]},template:function(t,e){1&t&&(wt.Ub(0,"div",0),wt.Ub(1,"h4",1),wt.Yb(2,2),wt.Tb(),wt.Ub(3,"button",3),wt.hc("click",function(){return e.activeModal.close()}),wt.Ub(4,"span",4),wt.Ec(5,"\xd7"),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(6,"div",5),wt.Ub(7,"div",6),wt.Cc(8,qe,15,2,"a",7),wt.Tb(),wt.Tb(),wt.Ub(9,"div",8),wt.Ub(10,"button",9),wt.hc("click",function(){return e.activeModal.close()}),wt.Yb(11,10),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(8),wt.pc("ngForOf",e.entities))},directives:[Et.k],encapsulation:2}),Qe),tn=((He=function(){function t(e,n,r){Tt(this,t),this.activeModal=e,this.modal=n,this.layoutService=r}return _t(t,[{key:"canSave",value:function(){return this.name}},{key:"saveLayout",value:function(){var t=this;if(this.layoutService.getLayout(this.name)){var e=this.modal.open(Ge);e.componentInstance.title="Confirm Save",e.componentInstance.message="<strong>".concat(this.name,"</strong> already exists. Confirm overwrite?"),e.result.then(function(e){e&&t.activeModal.close(t.name)})}else this.activeModal.close(this.name)}}]),t}()).\u0275fac=function(t){return new(t||He)(wt.Pb(Ne.a),wt.Pb(Ne.c),wt.Pb(je))},He.\u0275cmp=wt.Jb({type:He,selectors:[["ng-component"]],decls:14,vars:2,consts:function(){return[[1,"modal-header"],[1,"modal-title"],"\u4FDD\u5B58\u6A21\u677F",["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"disabled","click"],"\u4FDD\u5B58",["type","button",1,"btn","btn-secondary",3,"click"],"\u53D6\u6D88"]},template:function(t,e){1&t&&(wt.Ub(0,"div",0),wt.Ub(1,"h4",1),wt.Yb(2,2),wt.Tb(),wt.Ub(3,"button",3),wt.hc("click",function(){return e.activeModal.close()}),wt.Ub(4,"span",4),wt.Ec(5,"\xd7"),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(6,"div",5),wt.Ub(7,"div",6),wt.Ub(8,"input",7),wt.hc("ngModelChange",function(t){return e.name=t}),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(9,"div",8),wt.Ub(10,"button",9),wt.hc("click",function(){return e.saveLayout()}),wt.Yb(11,10),wt.Tb(),wt.Ub(12,"button",11),wt.hc("click",function(){return e.activeModal.close()}),wt.Yb(13,12),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(8),wt.pc("ngModel",e.name),wt.Cb(2),wt.pc("disabled",!e.canSave()))},directives:[Pe.b,Pe.f,Pe.g],encapsulation:2}),He),en=((Xe=function(){function t(e){Tt(this,t),this.activeModal=e}return _t(t,[{key:"copy",value:function(t){t.select(),document.execCommand("copy")}}]),t}()).\u0275fac=function(t){return new(t||Xe)(wt.Pb(Ne.a))},Xe.\u0275cmp=wt.Jb({type:Xe,selectors:[["app-share-layout"]],inputs:{url:"url"},decls:16,vars:1,consts:function(){return[[1,"modal-header"],[1,"modal-title"],"\u5206\u4EAB\u6A21\u677F",["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"input-group"],["readonly","",1,"form-control",3,"value"],["urlInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],"\u590D\u5236",[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],"\u786E\u5B9A"]},template:function(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",0),wt.Ub(1,"h4",1),wt.Yb(2,2),wt.Tb(),wt.Ub(3,"button",3),wt.hc("click",function(){return e.activeModal.dismiss()}),wt.Ub(4,"span",4),wt.Ec(5,"\xd7"),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(6,"div",5),wt.Ub(7,"div",6),wt.Qb(8,"input",7,8),wt.Ub(10,"div",9),wt.Ub(11,"button",10),wt.hc("click",function(){wt.xc(n);var t=wt.wc(9);return e.copy(t)}),wt.Yb(12,11),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(13,"div",12),wt.Ub(14,"button",13),wt.hc("click",function(){return e.activeModal.close()}),wt.Yb(15,14),wt.Tb(),wt.Tb()}2&t&&(wt.Cb(8),wt.pc("value",e.url))},encapsulation:2}),Xe),nn=bt("o+DB"),rn=function(){var t=function t(){Tt(this,t)};return t.default="default",t.argon="argon",t.teladi="teladi",t.paranid="paranid",t}(),on=bt("iPnF"),sn=bt("0jqB"),an={argon:{race:on.a.argon,amount:200,consumption:[{ware:sn.b.foodrations,amount:450},{ware:sn.b.medicalsupplies,amount:270}]},teladi:{race:on.a.teladi,amount:200,consumption:[{ware:sn.b.nostropoil,amount:228},{ware:sn.b.medicalsupplies,amount:270}]},paranid:{race:on.a.paranid,amount:200,consumption:[{ware:sn.b.sojahusk,amount:286},{ware:sn.b.medicalsupplies,amount:270}]},split:{race:on.a.split,amount:200,consumption:[{ware:sn.b.cheltmeat,amount:100},{ware:sn.b.scruffinfruits,amount:140},{ware:sn.b.medicalsupplies,amount:270}]},terran:{race:on.a.terran,amount:200,consumption:[{ware:sn.b.terranmre,amount:255},{ware:sn.b.medicalsupplies,amount:270}]},get:function(t){return an[t]||an.argon}},cn=bt("vmnB"),un=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Tt(this,t),this.wareService=e,this.moduleService=n,this.moduleId=r,this.count=i}return _t(t,[{key:"moduleId",get:function(){return this._moduleId},set:function(t){t!=this._moduleId&&(this._moduleId=t,this.update())}},{key:"count",get:function(){return this._count},set:function(t){t!=this._count&&(this._count=t,this.update())}},{key:"update",value:function(){var t=this;if(this._moduleId){if(this.module=this.moduleService.getEntity(this.moduleId),this.needs=[],this.production=null,this.module.type==nn.b.production){var e,n=this.module.product,r=3600/(e=null==this.module.makerRace?n.production.find(function(t){return t.method==rn.default}):n.production.find(function(e){return e.method==t.module.makerRace.id})||n.production.find(function(t){return t.method==rn.default})).time;this.production={amount:e.amount*r,ware:n,value:e},e.wares.forEach(function(e){var n=t.wareService.getEntity(e.ware);t.needs.push({amount:e.amount*r,ware:n})})}else if(this.module.type==nn.b.habitation){var i=this.module.workForce.capacity,o=an.get(this.module.workForce.race.id);o.consumption.forEach(function(e){t.needs.push({amount:e.amount*i/o.amount,ware:e.ware})})}}else this.module=null,this.production=null,this.needs=[]}}]),t}(),ln=function(){function t(){Tt(this,t)}return _t(t,null,[{key:"calculate",value:function(t,e,n){var r=0==n||0==e?0:n/e;r>1&&(r=1);var i={};t.length>0&&(i=t.map(function(t){var e=t.needs.map(function(e){return{ware:e.ware,count:t.count,amount:-e.amount,efficiency:100,name:t.module.name,total:t.count*-e.amount}});if(t.production){var n=t.production.value.effects?t.production.value.effects.find(function(t){return t.type==cn.a.work}):null,i=null==n?1:1+n.product*r;e.push({ware:t.production.ware,count:t.count,amount:t.production.amount,efficiency:100*i,name:t.module.name,total:t.count*t.production.amount*i})}return e}).reduce(function(t,e){return t.concat(e)}).reduce(function(t,e){return t[e.ware.id]=t[e.ware.id]||[],t[e.ware.id].push(e),t},{}));var o=[];for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],c=0;a.forEach(function(t){c+=t.total}),o.push({ware:a[0].ware,amount:c,items:a})}return o}}]),t}(),hn=bt("9PR/"),pn=function(t){return t[t.expense=0]="expense",t[t.product=1]="product",t}({}),fn=function(){function t(e,n,r,i,o){Tt(this,t),this.item=e,this.component=n,this.minPrice=r,this.maxPrice=i,this.items=o}return _t(t,[{key:"module",get:function(){return this.item.module}},{key:"count",get:function(){return this.item.count}},{key:"price",get:function(){return this.item.count*(this.minPrice+(this.maxPrice-this.minPrice)*this.component.modulesResourcesPrice/100)}}]),t}(),dn=function(){function t(e,n,r){Tt(this,t),this.ware=e,this.amount=n,this.component=r}return _t(t,[{key:"price",get:function(){return this.amount*(this.ware.price.min+(this.ware.price.max-this.ware.price.min)*this.component.modulesResourcesPrice/100)}}]),t}(),mn=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Tt(this,t),this.model=e,this.pricePercentage=n,this.priceType=r,this.warePrice=i}return _t(t,[{key:"name",get:function(){return this.model.ware.name}},{key:"amount",get:function(){return this.model.amount}},{key:"price",get:function(){return null!=this.warePrice?0:this.model.ware.price.min+(this.model.ware.price.max-this.model.ware.price.min)*(this.priceType==pn.expense?this.pricePercentage.resourcesPrice:this.pricePercentage.productsPrice)/100}}]),t}(),bn=((Ke=function(){function t(){Tt(this,t),this.partialWorkforceChanged=new kt.a,this.partialWorkforce=0}return _t(t,[{key:"setPartialWorkforce",value:function(t){this.partialWorkforce=t,this.partialWorkforceChanged.next(this.partialWorkforce)}},{key:"$partialWorkforce",get:function(){return this.partialWorkforce}}]),t}()).\u0275fac=function(t){return new(t||Ke)},Ke.\u0275prov=wt.Lb({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke);function gn(t,e){1&t&&wt.Qb(0,"i",58)}function yn(t,e){1&t&&wt.Qb(0,"i",59)}function vn(t,e){if(1&t&&(wt.Ub(0,"tr",62),wt.Ub(1,"td",63),wt.Ec(2),wt.Tb(),wt.Ub(3,"td",11),wt.Ec(4),wt.kc(5,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit;wt.Cb(2),wt.Hc("",n.count," x ",n.name,""),wt.Cb(2),wt.Gc("-",wt.mc(5,3,n.amount*n.count,"1.0-0"),"")}}function wn(t,e){1&t&&(wt.Ub(0,"tr",62),wt.Ub(1,"td",63),wt.Ec(2," 1 x Unknown Module "),wt.Tb(),wt.Ub(3,"td",11),wt.Ec(4,"-200"),wt.Tb(),wt.Tb())}function _n(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,vn,6,6,"tr",60),wt.Cc(2,wn,5,0,"tr",61),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.pc("ngForOf",n.workforceNeeded),wt.Cb(1),wt.pc("ngIf",n.isHq)}}function Tn(t,e){1&t&&wt.Qb(0,"i",58)}function En(t,e){1&t&&wt.Qb(0,"i",59)}function Cn(t,e){if(1&t&&(wt.Ub(0,"tr",33),wt.Ub(1,"td",63),wt.Ec(2),wt.Tb(),wt.Ub(3,"td",11),wt.Ec(4),wt.kc(5,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit;wt.Cb(2),wt.Hc("",n.count," x ",n.name,""),wt.Cb(2),wt.Gc("+",wt.mc(5,3,n.amount*n.count,"1.0-0"),"")}}function In(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,Cn,6,6,"tr",64),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.pc("ngForOf",n.workforceCapacity)}}function Dn(t,e){1&t&&wt.Qb(0,"i",58)}function On(t,e){1&t&&wt.Qb(0,"i",59)}var kn=function(t,e){return{"text-danger":t,"text-warning":e}};function xn(t,e){if(1&t&&(wt.Ub(0,"tr",9),wt.Ub(1,"td",66),wt.Ec(2),wt.kc(3,"number"),wt.Tb(),wt.Ub(4,"td",11),wt.Ec(5),wt.kc(6,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit;wt.pc("ngClass",wt.tc(10,kn,n.price>0,0==n.price)),wt.Cb(2),wt.Hc("",wt.mc(3,4,n.amount,"1.0-0")," x ",n.name,""),wt.Cb(3),wt.Gc(" ",wt.mc(6,7,n.amount*n.price,"1.0-0")," ")}}function Pn(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,xn,7,13,"tr",65),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.pc("ngForOf",n.resourcesNeeded)}}function Nn(t,e){1&t&&wt.Qb(0,"i",58)}function Sn(t,e){1&t&&wt.Qb(0,"i",59)}function An(t,e){if(1&t&&(wt.Ub(0,"tr",68),wt.Ub(1,"td",66),wt.Ec(2),wt.kc(3,"number"),wt.Tb(),wt.Ub(4,"td",11),wt.Ec(5),wt.kc(6,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit;wt.Cb(2),wt.Hc("",wt.mc(3,3,n.amount,"1.0-0")," x ",n.name,""),wt.Cb(3),wt.Gc("+",wt.mc(6,6,n.amount*n.price,"1.0-0"),"")}}function Un(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,An,7,9,"tr",67),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.pc("ngForOf",n.resourcesProduced)}}function Ln(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,69),wt.Tb(),wt.Rb())}function Mn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,70),wt.Tb(),wt.Rb())}function Rn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,71),wt.Tb(),wt.Rb())}function Fn(t,e){if(1&t&&(wt.Sb(0),wt.Ec(1),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.Gc("",n.resourcesPrice,"%")}}function Bn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,72),wt.Tb(),wt.Rb())}function jn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,73),wt.Tb(),wt.Rb())}function zn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,74),wt.Tb(),wt.Rb())}function Vn(t,e){if(1&t&&(wt.Sb(0),wt.Ec(1),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.Gc("",n.productsPrice,"%")}}function Yn(t,e){1&t&&wt.Qb(0,"i",58)}function Wn(t,e){1&t&&wt.Qb(0,"i",59)}function $n(t,e){if(1&t&&(wt.Ub(0,"tr"),wt.Ub(1,"td",66),wt.Ec(2),wt.Tb(),wt.Ub(3,"td",11),wt.Ec(4),wt.kc(5,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit,r=wt.jc(2).$implicit;wt.Cb(2),wt.Hc("",r.count*n.amount," x ",n.ware.name,""),wt.Cb(2),wt.Gc(" ",wt.mc(5,3,r.count*n.price,"1.0-0")," ")}}function Gn(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,$n,6,6,"tr",53),wt.Rb()),2&t){var n=wt.jc().$implicit;wt.Cb(1),wt.pc("ngForOf",n.items)}}function qn(t,e){if(1&t){var n=wt.Vb();wt.Sb(0),wt.Ub(1,"tr",6),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc().toggleExpanded(t.module.id)}),wt.Ub(2,"td"),wt.Cc(3,Yn,1,0,"i",7),wt.Cc(4,Wn,1,0,"i",8),wt.Ec(5),wt.Tb(),wt.Ub(6,"td",11),wt.Ec(7),wt.kc(8,"number"),wt.Tb(),wt.Tb(),wt.Cc(9,Gn,2,1,"ng-container",12),wt.Rb()}if(2&t){var r=e.$implicit,i=wt.jc();wt.Cb(3),wt.pc("ngIf",!i.expandState[r.module.id]),wt.Cb(1),wt.pc("ngIf",i.expandState[r.module.id]),wt.Cb(1),wt.Hc(" ",r.count," x ",r.module.name," "),wt.Cb(2),wt.Gc(" ",wt.mc(8,6,r.price,"1.0-0")," "),wt.Cb(2),wt.pc("ngIf",i.expandState[r.module.id])}}function Xn(t,e){if(1&t&&(wt.Ub(0,"tr"),wt.Ub(1,"td",11),wt.Ec(2),wt.Tb(),wt.Ub(3,"td",11),wt.Ec(4),wt.kc(5,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit;wt.Cb(2),wt.Fc(n.ware.name),wt.Cb(2),wt.Fc(wt.mc(5,2,n.value,"1.0-0"))}}function Hn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,75),wt.Tb(),wt.Rb())}function Qn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,76),wt.Tb(),wt.Rb())}function Kn(t,e){1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,77),wt.Tb(),wt.Rb())}function Zn(t,e){if(1&t&&(wt.Sb(0),wt.Ec(1),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.Gc("",n.modulesResourcesPrice,"%")}}var Jn,tr,er=function(t,e){return{"text-danger":t,"text-success":e}},nr=((Jn=function(){function t(e,n){Tt(this,t),this.wareService=e,this.stationSummaryService=n,this.expandState={},this.provideBasicResources=!1,this.provideAllResources=!1,this.isHq=!1,this.resourcesPrice=50,this.productsPrice=50,this.modulesResourcesPrice=50,this._totalWorkforce=0,this.totalWorkforceCapacity=0,this.partialWorkforce=0,this.workforceNeeded=[],this.workforceCapacity=[],this.resourcesNeeded=[],this.resourcesProduced=[],this.totalModuleResourceCosts=[],this.change=new wt.n}return _t(t,[{key:"modules",get:function(){return this._modules},set:function(t){this._modules=t,this.update()}},{key:"totalWorkforce",get:function(){return this._totalWorkforce+(this.isHq?200:0)}},{key:"onChange",value:function(){this.update(),this.change.emit()}},{key:"update",value:function(){var e=this;if(this._totalWorkforce=0,this.workforceNeeded=[],this.workforceCapacity=[],this.resourcesNeeded=[],this.resourcesProduced=[],this.moduleCosts=[],null!=this.modules){this.modules.forEach(function(t){if(null!=t.module&&null!=t.module.workForce&&(null!=t.module.workForce.max&&(e._totalWorkforce+=t.count*t.module.workForce.max,e.workforceNeeded.push({amount:t.module.workForce.max,name:t.module.name,count:t.count})),null!=t.module.workForce.capacity&&e.workforceCapacity.push({amount:t.module.workForce.capacity,name:t.module.name,count:t.count})),null!=t.module){var n=e.getModuleCost(t);null!=n&&e.moduleCosts.push(n)}});var n=this.modules.reduce(function(t,e){return e.module&&e.module.workForce&&e.module.workForce.capacity?t+e.count*e.module.workForce.capacity:t},0);this.totalWorkforceCapacity!=n&&(this.totalWorkforceCapacity=n,this.partialWorkforce=n),this.stationSummaryService.setPartialWorkforce(this.partialWorkforce);var r=ln.calculate(this.modules,this._totalWorkforce,this.partialWorkforce);r.sort(function(t,n){return e.wareService.compareWares(t.ware,n.ware)}),r.forEach(function(n){if(n.amount<0){var r=null;(e.provideAllResources||e.provideBasicResources&&t.basicResources.indexOf(n.ware.group)>=0)&&(r=0);var i=new mn(n,e,pn.expense,r);e.resourcesNeeded.push(i)}else if(n.amount>0){var o=new mn(n,e,pn.product);e.resourcesProduced.push(o)}}),this.totalModuleResourceCosts=[],this.moduleCosts.forEach(function(t){t.items.forEach(function(n){var r=e.totalModuleResourceCosts.find(function(t){return t.ware.id==n.ware.id});null==r?(r={ware:n.ware,value:t.count*n.amount},e.totalModuleResourceCosts.push(r)):r.value+=t.count*n.amount})})}}},{key:"workforceStep",get:function(){return 0===this.totalWorkforceCapacity?1:this.totalWorkforceCapacity/20}},{key:"workforcePercent",get:function(){return 0===this.totalWorkforceCapacity?"0%":Math.round(100*this.partialWorkforce/this.totalWorkforceCapacity)+"%"}},{key:"totalExpenses",get:function(){var t=0;return this.resourcesNeeded.forEach(function(e){t+=e.amount*e.price}),t}},{key:"totalProfits",get:function(){var t=0;return this.resourcesProduced.forEach(function(e){t+=e.amount*e.price}),t}},{key:"totalModuleCost",get:function(){var t=0;return this.moduleCosts.forEach(function(e){t+=e.price}),t}},{key:"getModuleCost",value:function(t){var e=this,n=t.module.production[0];if(!n)return null;var r=0,i=0,o=[];return n.wares.forEach(function(t){var n=e.wareService.getEntity(t.ware);r+=n.price.min*t.amount,i+=n.price.max*t.amount,o.push(new dn(n,t.amount,e))}),new fn(t,this,r,i,o)}},{key:"toggleExpanded",value:function(t){this.expandState[t]=!this.expandState[t]}}]),t}()).basicResources=[hn.a.gases,hn.a.minerals,hn.a.ice],Jn.\u0275fac=function(t){return new(t||Jn)(wt.Pb($e.a),wt.Pb(bn))},Jn.\u0275cmp=wt.Jb({type:Jn,selectors:[["app-station-summary"]],inputs:{modules:"modules"},outputs:{change:"change"},decls:154,vars:72,consts:function(){return[[1,"table","table-sm","small","table-hover"],[1,"bg-light"],["scope","col"],"\u52B3\u52A8\u529B\u6D88\u8017",["scope","col",1,"text-right"],"\u503C",[1,"hover",3,"click"],["class","fa fa-angle-double-down",4,"ngIf"],["class","fa fa-angle-double-up",4,"ngIf"],[3,"ngClass"],"\u52B3\u52A8\u529B\u6D88\u8017\u91CF",[1,"text-right"],[4,"ngIf"],"\u52B3\u52A8\u529B\u50A8\u5907\u91CF",["colspan","2"],[1,"form-check"],["type","checkbox","id","is-hq",1,"form-check-input",3,"ngModel","ngModelChange"],["for","is-hq",1,"form-check-label"],"\u603B\u90E8\uFF08\u603B\u90E8\u51FA\u4E8E\u67D0\u79CD\u539F\u56E0\u9700\u8981200\u540D\u5DE5\u4EBA\uFF09",[1,"row"],[1,"form-group","col"],["for","workforce-slider"],"\u5B9E\u9645\u52B3\u52A8\u529B\uFF1A ",[1,"d-flex","flex-row"],[1,"flex-grow-1"],["type","range","id","workforce-slider","min","0",1,"form-control-range","small",3,"max","ngModel","ngModelChange"],[1,"ml-1"],"\u6BCF\u5C0F\u65F6\u4EA7\u54C1\u751F\u4EA7\u91CF","\u6570\u91CF",[1,"hover","text-danger",3,"click"],"\u82B1\u8D39",[1,"hover","text-primary",3,"click"],"\u4EA7\u54C1",[1,"text-success"],[1,"fa","fa-line-chart"],"\u5229\u6DA6",["type","checkbox","id","basic-resources",1,"form-check-input",3,"ngModel","ngModelChange"],["for","basic-resources",1,"form-check-label"],"\u7531\u77FF\u5DE5\u63D0\u4F9B\u57FA\u672C\u8D44\u6E90",["type","checkbox","id","all-resources",1,"form-check-input",3,"ngModel","ngModelChange"],["for","all-resources",1,"form-check-label"],"\u8D44\u6E90\u7531\u5176\u4ED6\u7A7A\u95F4\u7AD9\u63D0\u4F9B",["for","resources-price"],"\u8D44\u6E90\u5B9A\u4EF7:",[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","range","id","resources-price","min","0","max","100","step","5",1,"form-control-range","small",3,"ngModel","ngModelChange"],["for","products-price"],"\u4EA7\u54C1\u5B9A\u4EF7:",["type","range","id","products-price","min","0","max","100","step","5",1,"form-control-range","small",3,"ngModel","ngModelChange"],"\u7A7A\u95F4\u7AD9\u82B1\u8D39","\u6570\u91CF",[4,"ngFor","ngForOf"],"\u5408\u8BA1:",["for","modules-resources-price"],"\u8D44\u6E90\u5B9A\u4EF7:",["type","range","id","modules-resources-price","min","0","max","100","step","5",1,"form-control-range","small",3,"ngModel","ngModelChange"],[1,"fa","fa-angle-double-down"],[1,"fa","fa-angle-double-up"],["class","text-danger",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"pl-4"],["class","text-success",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pl-5"],["class","text-primary",4,"ngFor","ngForOf"],[1,"text-primary"],"\u6700\u5C0F\u503C","\u5E73\u5747\u503C","\u6700\u5927\u503C","\u6700\u5C0F\u503C","\u5E73\u5747\u503C","\u6700\u5927\u503C","\u6700\u5C0F\u503C","\u5E73\u5747\u503C","\u6700\u5927\u503C"]},template:function(t,e){1&t&&(wt.Ub(0,"table",0),wt.Ub(1,"thead"),wt.Ub(2,"tr",1),wt.Ub(3,"th",2),wt.Yb(4,3),wt.Tb(),wt.Ub(5,"th",4),wt.Yb(6,5),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(7,"tbody"),wt.Ub(8,"tr",6),wt.hc("click",function(){return e.toggleExpanded("totalWorkforce")}),wt.Ub(9,"td"),wt.Cc(10,gn,1,0,"i",7),wt.Cc(11,yn,1,0,"i",8),wt.Ub(12,"span",9),wt.Yb(13,10),wt.Tb(),wt.Tb(),wt.Ub(14,"td",11),wt.Ec(15),wt.kc(16,"number"),wt.Tb(),wt.Tb(),wt.Cc(17,_n,3,2,"ng-container",12),wt.Ub(18,"tr",6),wt.hc("click",function(){return e.toggleExpanded("totalWorkforceCapacity")}),wt.Ub(19,"td"),wt.Cc(20,Tn,1,0,"i",7),wt.Cc(21,En,1,0,"i",8),wt.Ub(22,"span",9),wt.Yb(23,13),wt.Tb(),wt.Tb(),wt.Ub(24,"td",11),wt.Ec(25),wt.kc(26,"number"),wt.Tb(),wt.Tb(),wt.Cc(27,In,2,1,"ng-container",12),wt.Ub(28,"tr"),wt.Ub(29,"td",14),wt.Ub(30,"div",15),wt.Ub(31,"input",16),wt.hc("ngModelChange",function(t){return e.isHq=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Ub(32,"label",17),wt.Yb(33,18),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(34,"tr"),wt.Ub(35,"td",14),wt.Ub(36,"div",19),wt.Ub(37,"div",20),wt.Ub(38,"label",21),wt.Ub(39,"span"),wt.Yb(40,22),wt.Tb(),wt.Ec(41,"\xa0"),wt.Ub(42,"strong"),wt.Ec(43),wt.kc(44,"number"),wt.Tb(),wt.Tb(),wt.Ub(45,"div",23),wt.Ub(46,"div",24),wt.Ub(47,"input",25),wt.hc("ngModelChange",function(t){return e.partialWorkforce=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Tb(),wt.Ub(48,"div",26),wt.Ec(49),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(50,"table",0),wt.Ub(51,"thead"),wt.Ub(52,"tr",1),wt.Ub(53,"th",2),wt.Yb(54,27),wt.Tb(),wt.Ub(55,"th",4),wt.Yb(56,28),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(57,"tbody"),wt.Ub(58,"tr",29),wt.hc("click",function(){return e.toggleExpanded("totalExpenses")}),wt.Ub(59,"td"),wt.Cc(60,Dn,1,0,"i",7),wt.Cc(61,On,1,0,"i",8),wt.Ub(62,"span"),wt.Yb(63,30),wt.Tb(),wt.Tb(),wt.Ub(64,"td",11),wt.Ec(65),wt.kc(66,"number"),wt.Tb(),wt.Tb(),wt.Cc(67,Pn,2,1,"ng-container",12),wt.Ub(68,"tr",31),wt.hc("click",function(){return e.toggleExpanded("totalProfits")}),wt.Ub(69,"td"),wt.Cc(70,Nn,1,0,"i",7),wt.Cc(71,Sn,1,0,"i",8),wt.Ub(72,"span"),wt.Yb(73,32),wt.Tb(),wt.Tb(),wt.Ub(74,"td",11),wt.Ec(75),wt.kc(76,"number"),wt.Tb(),wt.Tb(),wt.Cc(77,Un,2,1,"ng-container",12),wt.Ub(78,"tr",33),wt.Ub(79,"td"),wt.Qb(80,"i",34),wt.Ub(81,"strong"),wt.Yb(82,35),wt.Tb(),wt.Tb(),wt.Ub(83,"td",11),wt.Ub(84,"strong"),wt.Ec(85),wt.kc(86,"number"),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(87,"tr"),wt.Ub(88,"td",14),wt.Ub(89,"div",15),wt.Ub(90,"input",36),wt.hc("ngModelChange",function(t){return e.provideBasicResources=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Ub(91,"label",37),wt.Yb(92,38),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(93,"tr"),wt.Ub(94,"td",14),wt.Ub(95,"div",15),wt.Ub(96,"input",39),wt.hc("ngModelChange",function(t){return e.provideAllResources=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Ub(97,"label",40),wt.Yb(98,41),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(99,"tr"),wt.Ub(100,"td",14),wt.Ub(101,"div",19),wt.Ub(102,"div",20),wt.Ub(103,"label",42),wt.Ub(104,"span"),wt.Yb(105,43),wt.Tb(),wt.Ec(106,"\xa0 "),wt.Ub(107,"strong",44),wt.Cc(108,Ln,3,0,"ng-container",45),wt.Cc(109,Mn,3,0,"ng-container",45),wt.Cc(110,Rn,3,0,"ng-container",45),wt.Cc(111,Fn,2,1,"ng-container",46),wt.Tb(),wt.Tb(),wt.Ub(112,"input",47),wt.hc("ngModelChange",function(t){return e.resourcesPrice=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Tb(),wt.Ub(113,"div",20),wt.Ub(114,"label",48),wt.Ub(115,"span"),wt.Yb(116,49),wt.Tb(),wt.Ec(117,"\xa0 "),wt.Ub(118,"strong",44),wt.Cc(119,Bn,3,0,"ng-container",45),wt.Cc(120,jn,3,0,"ng-container",45),wt.Cc(121,zn,3,0,"ng-container",45),wt.Cc(122,Vn,2,1,"ng-container",46),wt.Tb(),wt.Tb(),wt.Ub(123,"input",50),wt.hc("ngModelChange",function(t){return e.productsPrice=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(124,"table",0),wt.Ub(125,"thead"),wt.Ub(126,"tr",1),wt.Ub(127,"th",2),wt.Yb(128,51),wt.Tb(),wt.Ub(129,"th",4),wt.Yb(130,52),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(131,"tbody"),wt.Cc(132,qn,10,9,"ng-container",53),wt.Ub(133,"tr"),wt.Ub(134,"th",11),wt.Yb(135,54),wt.Tb(),wt.Ub(136,"th",11),wt.Ec(137),wt.kc(138,"number"),wt.Tb(),wt.Tb(),wt.Cc(139,Xn,6,5,"tr",53),wt.Ub(140,"tr"),wt.Ub(141,"td",14),wt.Ub(142,"div",19),wt.Ub(143,"div",20),wt.Ub(144,"label",55),wt.Ub(145,"span"),wt.Yb(146,56),wt.Tb(),wt.Ec(147,"\xa0 "),wt.Ub(148,"strong",44),wt.Cc(149,Hn,3,0,"ng-container",45),wt.Cc(150,Qn,3,0,"ng-container",45),wt.Cc(151,Kn,3,0,"ng-container",45),wt.Cc(152,Zn,2,1,"ng-container",46),wt.Tb(),wt.Tb(),wt.Ub(153,"input",57),wt.hc("ngModelChange",function(t){return e.modulesResourcesPrice=t})("ngModelChange",function(){return e.onChange()}),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(10),wt.pc("ngIf",!e.expandState.totalWorkforce),wt.Cb(1),wt.pc("ngIf",e.expandState.totalWorkforce),wt.Cb(1),wt.pc("ngClass",wt.tc(66,er,e.totalWorkforce>e.totalWorkforceCapacity,e.totalWorkforce<=e.totalWorkforceCapacity)),wt.Cb(3),wt.Fc(wt.mc(16,45,e.totalWorkforce,"1.0-0")),wt.Cb(2),wt.pc("ngIf",e.expandState.totalWorkforce),wt.Cb(3),wt.pc("ngIf",!e.expandState.totalWorkforceCapacity),wt.Cb(1),wt.pc("ngIf",e.expandState.totalWorkforceCapacity),wt.Cb(1),wt.pc("ngClass",wt.tc(69,er,e.totalWorkforce>e.totalWorkforceCapacity,e.totalWorkforce<=e.totalWorkforceCapacity)),wt.Cb(3),wt.Gc(" ",wt.mc(26,48,e.totalWorkforceCapacity,"1.0-0")," "),wt.Cb(2),wt.pc("ngIf",e.expandState.totalWorkforceCapacity),wt.Cb(4),wt.pc("ngModel",e.isHq),wt.Cb(12),wt.Fc(wt.mc(44,51,e.partialWorkforce,"1.0-0")),wt.Cb(4),wt.pc("max",e.totalWorkforceCapacity)("ngModel",e.partialWorkforce),wt.Db("step",e.workforceStep),wt.Cb(2),wt.Gc(" ",e.workforcePercent," "),wt.Cb(11),wt.pc("ngIf",!e.expandState.totalExpenses),wt.Cb(1),wt.pc("ngIf",e.expandState.totalExpenses),wt.Cb(4),wt.Fc(wt.mc(66,54,e.totalExpenses,"1.0-0")),wt.Cb(2),wt.pc("ngIf",e.expandState.totalExpenses),wt.Cb(3),wt.pc("ngIf",!e.expandState.totalProfits),wt.Cb(1),wt.pc("ngIf",e.expandState.totalProfits),wt.Cb(4),wt.Fc(wt.mc(76,57,e.totalProfits,"1.0-0")),wt.Cb(2),wt.pc("ngIf",e.expandState.totalProfits),wt.Cb(8),wt.Fc(wt.mc(86,60,e.totalProfits+e.totalExpenses,"1.0-0")),wt.Cb(5),wt.pc("ngModel",e.provideBasicResources),wt.Cb(6),wt.pc("ngModel",e.provideAllResources),wt.Cb(11),wt.pc("ngSwitch",e.resourcesPrice),wt.Cb(1),wt.pc("ngSwitchCase",0),wt.Cb(1),wt.pc("ngSwitchCase",50),wt.Cb(1),wt.pc("ngSwitchCase",100),wt.Cb(2),wt.pc("ngModel",e.resourcesPrice),wt.Cb(6),wt.pc("ngSwitch",e.productsPrice),wt.Cb(1),wt.pc("ngSwitchCase",0),wt.Cb(1),wt.pc("ngSwitchCase",50),wt.Cb(1),wt.pc("ngSwitchCase",100),wt.Cb(2),wt.pc("ngModel",e.productsPrice),wt.Cb(9),wt.pc("ngForOf",e.moduleCosts),wt.Cb(5),wt.Fc(wt.mc(138,63,e.totalModuleCost,"1.0-0")),wt.Cb(2),wt.pc("ngForOf",e.totalModuleResourceCosts),wt.Cb(9),wt.pc("ngSwitch",e.modulesResourcesPrice),wt.Cb(1),wt.pc("ngSwitchCase",0),wt.Cb(1),wt.pc("ngSwitchCase",50),wt.Cb(1),wt.pc("ngSwitchCase",100),wt.Cb(2),wt.pc("ngModel",e.modulesResourcesPrice))},directives:[Et.l,Et.j,Pe.a,Pe.f,Pe.g,Pe.j,Pe.b,Et.m,Et.n,Et.o,Et.k],pipes:[Et.d],encapsulation:2}),Jn),rr=bt("9QbX"),ir=bt("CDzl"),or=((tr=function(t){mt(n,t);var e=gt(n);function n(t,r,i){var o;return Tt(this,n),(o=e.call(this)).activeModal=t,o.moduleService=r,o.layoutService=i,o}return _t(n,[{key:"ngOnInit",value:function(){}},{key:"importPlans",value:function(){var t=this;ir.parseString(this.xml,function(e,n){if(e)console.error(e),t.activeModal.close({error:"Failed to load plans",layouts:null});else{if(!(n&&n.plans&&n.plans.plan))return;var r,i=null;try{r=t.importCore(n)}catch(o){i="Failed to import layouts"}t.activeModal.close({error:i,layouts:r})}})}},{key:"importCore",value:function(t){var e,n=this,r=[],i=ht(t.plans.plan);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(null!=o.entry&&0!==o.entry.length){var s,a=o.$.name,c=[],u=ht(o.entry);try{var l=function(){var t=s.value,e=lt(n.moduleService.getModulesByMacro(t.$.macro),1)[0];if(e){var r=c.find(function(t){return t.moduleId===e.id});r?r.count++:c.push({moduleId:e.id,count:1})}};for(u.s();!(s=u.n()).done;)l()}catch(h){u.e(h)}finally{u.f()}this.layoutService.saveLayout({name:a,config:c}),r.push(a)}}}catch(h){i.e(h)}finally{i.f()}return r}},{key:"canImport",get:function(){return this.xml}}]),n}(Ye.a)).\u0275fac=function(t){return new(t||tr)(wt.Pb(Ne.a),wt.Pb(Fe.a),wt.Pb(je))},tr.\u0275cmp=wt.Jb({type:tr,selectors:[["app-import-plans"]],features:[wt.zb],decls:18,vars:2,consts:function(){return[[1,"modal-header"],[1,"modal-title"],"\u5BFC\u5165\u8BA1\u5212",["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],"\u7C98\u8D34 " + "\ufffd#9\ufffd" + "constructionplans.xml" + "\ufffd/#9\ufffd" + " \u5185\u5BB9\uFF0C\u8BA1\u5212\u5C06\u6DFB\u52A0\u5230\u4F60\u7684\u5E03\u5C40\u5217\u8868\u4E2D",[1,"font-italic","text-info"],[1,"small","text-secondary"],"\u6587\u4EF6\u53EF\u4EE5\u5728 Documents\\Egosoft\\X4\\[12345678]\\constructionplans.xml \u627E\u5230",["rows","10",1,"w-100","mt-2",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-secondary",3,"click"],"\u53D6\u6D88"]},template:function(t,e){1&t&&(wt.Ub(0,"div",0),wt.Ub(1,"h4",1),wt.Yb(2,2),wt.Tb(),wt.Ub(3,"button",3),wt.hc("click",function(){return e.activeModal.close()}),wt.Ub(4,"span",4),wt.Ec(5,"\xd7"),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(6,"div",5),wt.Ub(7,"div"),wt.cc(8,6),wt.Qb(9,"span",7),wt.ac(),wt.Tb(),wt.Ub(10,"div",8),wt.Yb(11,9),wt.Tb(),wt.Ub(12,"textarea",10),wt.hc("ngModelChange",function(t){return e.xml=t}),wt.Tb(),wt.Tb(),wt.Ub(13,"div",11),wt.Ub(14,"button",12),wt.hc("click",function(){return e.importPlans()}),wt.Ec(15,"Import"),wt.Tb(),wt.Ub(16,"button",13),wt.hc("click",function(){return e.activeModal.close()}),wt.Yb(17,14),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(12),wt.pc("ngModel",e.xml),wt.Cb(2),wt.pc("disabled",!e.canImport))},directives:[Pe.b,Pe.f,Pe.g],encapsulation:2}),tr),sr=bt("jhN1");function ar(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",9),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc(4).onClick(t)}),wt.Ub(1,"label"),wt.Ec(2),wt.Tb(),wt.Tb()}if(2&t){var r=e.$implicit;wt.Cb(2),wt.Fc(r.name)}}function cr(t,e){if(1&t&&(wt.Ub(0,"div",6),wt.Ub(1,"label",7),wt.Ub(2,"b"),wt.Ec(3),wt.Tb(),wt.Tb(),wt.Cc(4,ar,3,1,"div",8),wt.Tb()),2&t){var n=wt.jc().$implicit;wt.Cb(3),wt.Fc(n.name),wt.Cb(1),wt.pc("ngForOf",n.modules)}}function ur(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,cr,5,2,"div",5),wt.Rb()),2&t){var n=e.$implicit;wt.Cb(1),wt.pc("ngIf",n.modules.length>0)}}function lr(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",3),wt.hc("focus",function(){return wt.xc(n),wt.jc().onFocus()})("blur",function(){return wt.xc(n),wt.jc().onBlur()}),wt.Cc(1,ur,2,1,"ng-container",4),wt.Tb()}if(2&t){var r=wt.jc();wt.Cb(1),wt.pc("ngForOf",r.filteredGroups)}}var hr,pr=((hr=function(){function t(){Tt(this,t),this.id=null,this.groups=[],this.filteredGroups=[],this.selectModule=new wt.n,this.inputString="",this.visible=!1}return _t(t,[{key:"ngOnInit",value:function(){this.filteredGroups=this.groups.map(function(t){return Object.assign({},t)}),this.setName()}},{key:"filterModules",value:function(t){for(var e=0;e<this.groups.length;e++)this.filteredGroups[e].modules=ut(this.groups[e].modules.filter(function(e){return e.name.trim().toLowerCase().includes(t.trim().toLowerCase())}))}},{key:"changed",value:function(t){t?this.filterModules(t):this.filteredGroups=this.groups.map(function(t){return Object.assign({},t)})}},{key:"onFocus",value:function(){clearTimeout(this.timeout),this.filterModules(this.inputString),this.visible=!0}},{key:"onBlur",value:function(){var t=this;this.timeout=setTimeout(function(){t.setName(),t.visible=!1},100)}},{key:"onClick",value:function(t){this.inputString=t.name,this.filterModules(this.inputString),this.selectModule.emit(t.id),this.visible=!1}},{key:"setName",value:function(){var t=this;this.id&&this.groups.forEach(function(e){var n=e.modules.filter(function(e){return e.id===t.id})[0];n&&(t.inputString=n.name)})}}]),t}()).\u0275fac=function(t){return new(t||hr)},hr.\u0275cmp=wt.Jb({type:hr,selectors:[["app-autocomplete"]],inputs:{id:"id",groups:"groups"},outputs:{selectModule:"selectModule"},decls:3,vars:2,consts:function(){return[[1,"autocomplete-container"],["type","search","placeholder","\uFF08 \u9009\u62E9 \uFF09",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","focus","blur"],["tabindex","0","class","autocomplete",3,"focus","blur",4,"ngIf"],["tabindex","0",1,"autocomplete",3,"focus","blur"],[4,"ngFor","ngForOf"],["class","autocomplete__group-container",4,"ngIf"],[1,"autocomplete__group-container"],[1,"autocomplete__group-title"],["class","autocomplete__group-item",3,"click",4,"ngFor","ngForOf"],[1,"autocomplete__group-item",3,"click"]]},template:function(t,e){1&t&&(wt.Ub(0,"div",0),wt.Ub(1,"input",1),wt.hc("ngModelChange",function(t){return e.inputString=t})("ngModelChange",function(t){return e.changed(t)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),wt.Tb(),wt.Cc(2,lr,2,1,"div",2),wt.Tb()),2&t&&(wt.Cb(1),wt.pc("ngModel",e.inputString),wt.Cb(1),wt.pc("ngIf",e.visible))},directives:[Pe.b,Pe.f,Pe.g,Et.l,Et.k],styles:[".autocomplete-container[_ngcontent-%COMP%]{position:relative}.autocomplete[_ngcontent-%COMP%]{max-height:40vh;overflow:hidden;overflow-y:scroll;position:absolute;background-color:#fff;border-radius:.2rem;border:1px solid #ced4da;z-index:1}.autocomplete__group-title[_ngcontent-%COMP%]{color:rgba(0,0,0,.7);font-size:1.15em;padding-left:10px}.autocomplete__group-item[_ngcontent-%COMP%]{font-size:1.1em;padding-left:20px;padding-right:10px}.autocomplete__group-item[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.2);cursor:pointer}.autocomplete__group-item[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{cursor:pointer}label[_ngcontent-%COMP%]{margin:0}input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button{-webkit-appearance:searchfield-cancel-button}"]}),hr);function fr(t,e){if(1&t&&(wt.Ub(0,"div"),wt.Ec(1),wt.Tb()),2&t){var n=wt.jc().$implicit;wt.Cb(1),wt.Gc(" ",n.module.name," ")}}function dr(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"tr",15),wt.Ub(1,"td"),wt.Cc(2,fr,2,1,"div",16),wt.Ub(3,"div",17),wt.Ub(4,"app-autocomplete",18),wt.hc("selectModule",function(t){wt.xc(n);var r=e.$implicit;return wt.jc().onSelectModule(t,r)}),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(5,"td"),wt.Ub(6,"div",17),wt.Ub(7,"input",19),wt.hc("ngModelChange",function(t){return e.$implicit.count=t})("ngModelChange",function(){return wt.xc(n),wt.jc().onChange()}),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(8,"td"),wt.Qb(9,"i",20),wt.Tb(),wt.Ub(10,"td"),wt.Ub(11,"i",21),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc().removeModule(t)}),wt.Tb(),wt.Tb(),wt.Tb()}if(2&t){var r=e.$implicit,i=wt.jc();wt.Cb(4),wt.pc("id",r.moduleId)("groups",i.wareGroups),wt.Cb(3),wt.pc("ngModel",r.count)}}var mr,br=((mr=function(){function t(e,n){Tt(this,t),this.moduleService=e,this.wareService=n,this.change=new wt.n}return _t(t,[{key:"modules",get:function(){return this._modules},set:function(t){this._modules=t}},{key:"ngOnInit",value:function(){var t=this,e=this.moduleService.getModulesByType(nn.b.production).reduce(function(t,e){return t[e.product.group.id]=t[e.product.group.id]||{name:e.product.group.name,group:e.product.group,modules:[]},t[e.product.group.id].modules.push(e),t},[]);this.wareGroups=Object.keys(e).map(function(t){return e[t]}).sort(function(e,n){return t.wareService.compareGroups(e.group,n.group)});var n,r=ht(nn.a);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.wareGroups.push({name:i,modules:this.moduleService.getModulesByType(i)})}}catch(o){r.e(o)}finally{r.f()}}},{key:"removeModule",value:function(t){var e=this.modules.indexOf(t);e>=0&&(this.modules.splice(e,1),this.onChange())}},{key:"addModule",value:function(){this.modules.push(new un(this.wareService,this.moduleService))}},{key:"onChange",value:function(){this.change.emit()}},{key:"backfillModules",value:function(){for(var t=this,e=function(){var e=ln.calculate(t.modules,0,0),n=!1,r=t.modules,i=t.modules.find(function(t){return t.module.type===nn.b.habitation}),o="default";i&&(o=i.module.makerRace.id);var s,a=ht(e);try{var c=function(){var e=s.value;if(e.amount>=0)return"continue";var i=t.moduleService.getModuleByWare(e.ware.id,o)||t.moduleService.getModuleByWare(e.ware.id);if(null==i)return"continue";n=!0;var a=i.product.production.find(function(t){return t.method==o})||i.product.production.find(function(t){return"default"==t.method}),c=Math.ceil(-e.amount/(a.amount*(3600/a.time))),u=r.find(function(t){var e;return(null===(e=t.module)||void 0===e?void 0:e.id)==i.id});null==u?r.push(new un(t.wareService,t.moduleService,i.id,c)):u.count+=c};for(a.s();!(s=a.n()).done;)c()}catch(u){a.e(u)}finally{a.f()}if(!n)return"break"};"break"!==e(););this.onChange()}},{key:"onSelectModule",value:function(t,e){this.modules[this.modules.indexOf(e)].moduleId=t,this.onChange()}},{key:"drop",value:function(t){be(this._modules,t.previousIndex,t.currentIndex)}}]),t}()).\u0275fac=function(t){return new(t||mr)(wt.Pb(Fe.a),wt.Pb($e.a))},mr.\u0275cmp=wt.Jb({type:mr,selectors:[["app-station-modules"]],inputs:{modules:"modules"},outputs:{change:"change"},decls:27,vars:1,consts:function(){return[[1,"table","table-sm","table-hover","small"],[1,"bg-light"],["scope","col"],"\u6A21\u5757","\u8BA1\u6570",["aria-hidden","true",1,"fa","fa-ellipsis-v"],["aria-hidden","true",1,"fa","fa-trash"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","cdkDragBoundary",".table",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-plus-square"],"\u6DFB\u52A0\u6A21\u5757",["type","button",1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-list"],"\u81EA\u52A8\u586B\u5145\u6A21\u5757",["cdkDrag","","cdkDragBoundary",".table"],[4,"cdkDragPreview"],[1,"form-group"],[3,"id","groups","selectModule"],["type","number","placeholder","Module Count","min","0",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["cdkDragHandle","",1,"fa","fa-ellipsis-v","move"],["aria-hidden","true",1,"fa","fa-trash","hover",3,"click"]]},template:function(t,e){1&t&&(wt.Ub(0,"table",0),wt.Ub(1,"thead"),wt.Ub(2,"tr",1),wt.Ub(3,"th",2),wt.Yb(4,3),wt.Tb(),wt.Ub(5,"th",2),wt.Yb(6,4),wt.Tb(),wt.Ub(7,"th",2),wt.Qb(8,"i",5),wt.Tb(),wt.Ub(9,"th",2),wt.Qb(10,"i",6),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(11,"tbody",7),wt.hc("cdkDropListDropped",function(t){return e.drop(t)}),wt.Cc(12,dr,12,3,"tr",8),wt.Tb(),wt.Ub(13,"tfoot"),wt.Ub(14,"tr"),wt.Ub(15,"th"),wt.Ub(16,"button",9),wt.hc("click",function(){return e.addModule()}),wt.Qb(17,"i",10),wt.Ec(18,"\xa0"),wt.Ub(19,"span"),wt.Yb(20,11),wt.Tb(),wt.Tb(),wt.Ec(21,"\xa0 "),wt.Ub(22,"button",12),wt.hc("click",function(){return e.backfillModules()}),wt.Qb(23,"i",13),wt.Ec(24,"\xa0"),wt.Ub(25,"span"),wt.Yb(26,14),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(12),wt.pc("ngForOf",e.modules))},directives:[Te,Et.k,fe,oe,pr,Pe.i,Pe.b,Pe.f,Pe.g,re],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.move[_ngcontent-%COMP%]{cursor:move}"]}),mr);function gr(t,e){1&t&&wt.Qb(0,"i",13)}function yr(t,e){1&t&&wt.Qb(0,"i",14)}function vr(t,e){if(1&t&&(wt.Sb(0),wt.Ub(1,"span"),wt.Yb(2,18),wt.Tb(),wt.Ec(3,"\xa0"),wt.Ub(4,"strong"),wt.Ec(5),wt.kc(6,"number"),wt.Tb(),wt.Ec(7,"\xa0"),wt.Ub(8,"span"),wt.Yb(9,19),wt.Tb(),wt.Rb()),2&t){var n=wt.jc().$implicit;wt.Cb(5),wt.Gc("",wt.mc(6,1,n.efficiency,"1.0-0"),"%")}}var wr=function(t,e){return{"text-danger":t,"text-success":e}};function _r(t,e){if(1&t&&(wt.Ub(0,"tr",10),wt.Ub(1,"td",16),wt.Ub(2,"strong"),wt.Ec(3),wt.Tb(),wt.Ec(4," x "),wt.Ub(5,"strong"),wt.Ec(6),wt.Tb(),wt.Cc(7,vr,10,4,"ng-container",12),wt.Tb(),wt.Ub(8,"td",17),wt.Ec(9),wt.kc(10,"number"),wt.Tb(),wt.Tb()),2&t){var n=e.$implicit;wt.pc("ngClass",wt.tc(8,wr,n.total<0,n.total>0)),wt.Cb(3),wt.Fc(n.count),wt.Cb(3),wt.Fc(n.name),wt.Cb(1),wt.pc("ngIf",n.total>0),wt.Cb(2),wt.Fc(wt.mc(10,5,n.total,"1.0-0"))}}function Tr(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,_r,11,11,"tr",15),wt.Rb()),2&t){var n=wt.jc().$implicit;wt.Cb(1),wt.pc("ngForOf",n.items)}}function Er(t,e){if(1&t){var n=wt.Vb();wt.Sb(0),wt.Ub(1,"tr",7),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc().toggleExpanded(t)}),wt.Ub(2,"td"),wt.Cc(3,gr,1,0,"i",8),wt.Cc(4,yr,1,0,"i",9),wt.Ub(5,"span",10),wt.Ec(6),wt.Tb(),wt.Tb(),wt.Ub(7,"td",11),wt.Ec(8),wt.kc(9,"number"),wt.Tb(),wt.Tb(),wt.Cc(10,Tr,2,1,"ng-container",12),wt.Rb()}if(2&t){var r=e.$implicit;wt.Cb(3),wt.pc("ngIf",!r.expanded),wt.Cb(1),wt.pc("ngIf",r.expanded),wt.Cb(1),wt.pc("ngClass",wt.tc(10,wr,r.amount<0,r.amount>0)),wt.Cb(1),wt.Gc(" ",r.ware.name,""),wt.Cb(1),wt.pc("ngClass",wt.tc(13,wr,r.amount<0,r.amount>0)),wt.Cb(1),wt.Fc(wt.mc(9,7,r.amount,"1.0-0")),wt.Cb(2),wt.pc("ngIf",r.expanded)}}var Cr,Ir=((Cr=function(){function t(e,n){var r=this;Tt(this,t),this.wareService=e,this.stationSummaryService=n,this.expandState={},this.totalWorkforce=0,this.totalWorkforceCapacity=0,this.partialWorkforce=0,this.resources=[],this.workforceSubscription=this.stationSummaryService.partialWorkforceChanged.subscribe(function(t){r.partialWorkforce=t,r.update()})}return _t(t,[{key:"modules",get:function(){return this._modules},set:function(t){this._modules=t,this.update()}},{key:"ngOnInit",value:function(){}},{key:"toggleExpanded",value:function(t){t.expanded=!t.expanded,this.expandState[t.ware.id]=t.expanded}},{key:"update",value:function(){var t=this;if(this.totalWorkforce=0,null!=this.modules){this.totalWorkforce=this.modules.reduce(function(t,e){return e.module&&e.module.workForce&&e.module.workForce.max?t+e.count*e.module.workForce.max:t},0);var e=this.modules.reduce(function(t,e){return e.module&&e.module.workForce&&e.module.workForce.capacity?t+e.count*e.module.workForce.capacity:t},0);this.totalWorkforceCapacity!=e&&(this.totalWorkforceCapacity=e,this.partialWorkforce=e),this.resources=ln.calculate(this.modules,this.totalWorkforce,this.partialWorkforce),this.resources.forEach(function(e){e.expanded=t.expandState[e.items[0].ware.id]}),this.resources.sort(function(e,n){return t.wareService.compareWares(e.ware,n.ware)})}}},{key:"ngOnDestroy",value:function(){this.workforceSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Cr)(wt.Pb($e.a),wt.Pb(bn))},Cr.\u0275cmp=wt.Jb({type:Cr,selectors:[["app-station-resources"]],inputs:{modules:"modules"},decls:9,vars:1,consts:function(){return[[1,"table","table-sm","small"],[1,"bg-light"],["scope","col"],"\u8D44\u6E90",["scope","col",1,"text-right"],"\u6570\u91CF",[4,"ngFor","ngForOf"],[1,"hover",3,"click"],["class","fa fa-angle-double-down",4,"ngIf"],["class","fa fa-angle-double-up",4,"ngIf"],[3,"ngClass"],[1,"text-right",3,"ngClass"],[4,"ngIf"],[1,"fa","fa-angle-double-down"],[1,"fa","fa-angle-double-up"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pl-4"],[1,"text-right"],"\u4EE5","\u6548\u7387"]},template:function(t,e){1&t&&(wt.Ub(0,"table",0),wt.Ub(1,"thead"),wt.Ub(2,"tr",1),wt.Ub(3,"th",2),wt.Yb(4,3),wt.Tb(),wt.Ub(5,"th",4),wt.Yb(6,5),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(7,"tbody"),wt.Cc(8,Er,11,16,"ng-container",6),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(8),wt.pc("ngForOf",e.resources))},directives:[Et.k,Et.l,Et.j],pipes:[Et.d],encapsulation:2}),Cr);function Dr(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div"),wt.Qb(1,"span",2),wt.Ub(2,"button",3),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc(2).close(t)}),wt.Ub(3,"span",4),wt.Ec(4,"\xd7"),wt.Tb(),wt.Tb(),wt.Tb()}if(2&t){var r=e.$implicit;wt.Fb("alert alert-",r.type,""),wt.Cb(1),wt.pc("innerHTML",r.content,wt.yc)}}function Or(t,e){if(1&t&&(wt.Ub(0,"div"),wt.Cc(1,Dr,5,4,"div",1),wt.Tb()),2&t){var n=wt.jc();wt.Cb(1),wt.pc("ngForOf",n.messages)}}var kr,xr=((kr=function(){function t(){Tt(this,t)}return _t(t,[{key:"close",value:function(t){var e=this.messages.indexOf(t);e>=0&&this.messages.splice(e,1)}}]),t}()).\u0275fac=function(t){return new(t||kr)},kr.\u0275cmp=wt.Jb({type:kr,selectors:[["app-messages"]],inputs:{messages:"messages"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){1&t&&wt.Cc(0,Or,2,1,"div",0),2&t&&wt.pc("ngIf",e.messages&&e.messages.length)},directives:[Et.l,Et.k],encapsulation:2}),kr);function Pr(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",4),wt.Ub(1,"button",5),wt.hc("click",function(){return wt.xc(n),wt.jc(2).result=null}),wt.Ub(2,"span",6),wt.Ec(3,"\xd7"),wt.Tb(),wt.Tb(),wt.Ub(4,"div"),wt.Ec(5," Failed to import plans. "),wt.Tb(),wt.Tb()}}function Nr(t,e){1&t&&(wt.Ub(0,"span"),wt.Ec(1," | "),wt.Tb())}function Sr(t,e){if(1&t){var n=wt.Vb();wt.Sb(0),wt.Ub(1,"a",10),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc(3).selectLayout(t)}),wt.Ec(2),wt.Tb(),wt.Cc(3,Nr,2,0,"span",0),wt.Rb()}if(2&t){var r=e.$implicit,i=e.last;wt.Cb(2),wt.Fc(r),wt.Cb(1),wt.pc("ngIf",!i)}}function Ar(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",7),wt.Ub(1,"button",5),wt.hc("click",function(){return wt.xc(n),wt.jc(2).result=null}),wt.Ub(2,"span",6),wt.Ec(3,"\xd7"),wt.Tb(),wt.Tb(),wt.Ub(4,"div"),wt.Ec(5," Imported plans, but errors occurred trying to import some of them. "),wt.Ub(6,"div",8),wt.Cc(7,Sr,4,2,"ng-container",9),wt.Tb(),wt.Tb(),wt.Tb()}if(2&t){var r=wt.jc(2);wt.Cb(7),wt.pc("ngForOf",r.result.layouts)}}function Ur(t,e){1&t&&(wt.Ub(0,"span"),wt.Ec(1," | "),wt.Tb())}function Lr(t,e){if(1&t){var n=wt.Vb();wt.Sb(0),wt.Ub(1,"a",10),wt.hc("click",function(){wt.xc(n);var t=e.$implicit;return wt.jc(3).selectLayout(t)}),wt.Ec(2),wt.Tb(),wt.Cc(3,Ur,2,0,"span",0),wt.Rb()}if(2&t){var r=e.$implicit,i=e.last;wt.Cb(2),wt.Fc(r),wt.Cb(1),wt.pc("ngIf",!i)}}function Mr(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",11),wt.Ub(1,"button",12),wt.hc("click",function(){return wt.xc(n),wt.jc(2).result=null}),wt.Ub(2,"span",6),wt.Ec(3,"\xd7"),wt.Tb(),wt.Tb(),wt.Ub(4,"div"),wt.Ec(5," Successfully imported plans "),wt.Ub(6,"div",8),wt.Cc(7,Lr,4,2,"ng-container",9),wt.Tb(),wt.Tb(),wt.Tb()}if(2&t){var r=wt.jc(2);wt.Cb(7),wt.pc("ngForOf",r.result.layouts)}}function Rr(t,e){if(1&t&&(wt.Sb(0),wt.Cc(1,Pr,6,0,"div",1),wt.Cc(2,Ar,8,1,"div",2),wt.Cc(3,Mr,8,1,"div",3),wt.Rb()),2&t){var n=wt.jc();wt.Cb(1),wt.pc("ngIf",n.result.error&&(!n.result.layouts||0===n.result.layouts.length)),wt.Cb(1),wt.pc("ngIf",n.result.error&&n.result.layouts&&n.result.layouts.length>0),wt.Cb(1),wt.pc("ngIf",!n.result.error&&n.result.layouts&&n.result.layouts.length>0)}}var Fr,Br=((Fr=function(){function t(){Tt(this,t),this.selectPlan=new wt.n}return _t(t,[{key:"result",get:function(){return this._result},set:function(t){this._result=t}},{key:"selectLayout",value:function(t){this.selectPlan.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Fr)},Fr.\u0275cmp=wt.Jb({type:Fr,selectors:[["app-import-result"]],inputs:{result:"result"},outputs:{selectPlan:"selectPlan"},decls:1,vars:1,consts:[[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-danger"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"alert","alert-warning"],[1,"small"],[4,"ngFor","ngForOf"],[1,"cursor-pointer","link","text-primary",3,"click"],[1,"alert","alert-success"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","pull-right",3,"click"]],template:function(t,e){1&t&&wt.Cc(0,Rr,4,3,"ng-container",0),2&t&&wt.pc("ngIf",e.result)},directives:[Et.l,Et.k],encapsulation:2}),Fr),jr=["stationResources","stationSummary"];function zr(t,e){if(1&t){var n=wt.Vb();wt.Ub(0,"div",21),wt.Ub(1,"div",32),wt.Qb(2,"app-messages",33),wt.Ub(3,"app-import-result",34),wt.hc("selectPlan",function(t){return wt.xc(n),wt.jc().onSelectPlan(t)}),wt.Tb(),wt.Tb(),wt.Tb()}if(2&t){var r=wt.jc();wt.Cb(2),wt.pc("messages",r.messages),wt.Cb(1),wt.pc("result",r.importResult)}}function Vr(t,e){1&t&&(wt.Ub(0,"span"),wt.Yb(1,35),wt.Tb())}function Yr(t,e){if(1&t&&(wt.Ub(0,"span",36),wt.Ec(1),wt.Tb()),2&t){var n=wt.jc();wt.Cb(1),wt.Fc(n.layout.name)}}var Wr,$r,Gr,qr=((Gr=function(t){mt(n,t);var e=gt(n);function n(t,r,i,o,s,a){var c;return Tt(this,n),(c=e.call(this)).modal=t,c.route=r,c.layoutService=i,c.titleService=o,c.wareService=s,c.moduleService=a,c.messages=[],c.modules=[],c}return _t(n,[{key:"ngOnInit",value:function(){var t=this;this.titleService.setTitle("".concat(rr.a," - Station Calculator")),this.route.queryParams.pipe(Object(Vt.a)(this.onDestroy)).subscribe(function(e){if(e.l)try{var n=e.l.replace(/-/g,"=").replace(/,/g,"&"),r=Ve.parse(n);t.modules=r.map(function(e){return new un(t.wareService,t.moduleService,e.module,e.count)})}catch(i){console.log(i)}}),0===this.modules.length&&this.modules.push(new un(this.wareService,this.moduleService))}},{key:"onChange",value:function(){this.components.forEach(function(t){t.update()})}},{key:"shareLayout",value:function(){var t=this.modal.open(en),e=this.modules.filter(function(t){return t.count>0&&t.moduleId}).map(function(t){return{module:t.moduleId,count:t.count}}),n=Ve.stringify(e).replace(/=/g,"-").replace(/&/g,","),r=window.location.href.split("?")[0];t.componentInstance.url="".concat(r,"?l=").concat(n)}},{key:"saveLayoutAs",value:function(){var t=this;this.modal.open(tn).result.then(function(e){e&&(t.layout={name:e,resourcesPrice:t.summaryComponent.resourcesPrice,productsPrice:t.summaryComponent.productsPrice,modulesResourcesPrice:t.summaryComponent.modulesResourcesPrice,provideBasicResources:t.summaryComponent.provideBasicResources,provideAllResources:t.summaryComponent.provideAllResources,isHeadquarters:t.summaryComponent.isHq,config:t.getModuleConfig()},t.layoutService.saveLayout(t.layout),t.messages.push({type:We.success,content:"<strong>".concat(e,"</strong> successfully saved.")}))})}},{key:"saveLayout",value:function(){this.layout&&this.layout.name?(this.layout.config=this.getModuleConfig(),this.layout.resourcesPrice=this.summaryComponent.resourcesPrice,this.layout.productsPrice=this.summaryComponent.productsPrice,this.layout.modulesResourcesPrice=this.summaryComponent.modulesResourcesPrice,this.layout.provideBasicResources=this.summaryComponent.provideBasicResources,this.layout.provideAllResources=this.summaryComponent.provideAllResources,this.layout.isHeadquarters=this.summaryComponent.isHq,this.layoutService.saveLayout(this.layout),this.messages.push({type:We.success,content:"<strong>".concat(this.layout.name,"</strong> successfully saved.")})):this.saveLayoutAs()}},{key:"newLayout",value:function(){this.layout={name:null,config:[{moduleId:"",count:1}]},this.loadLayoutInternal(this.layout)}},{key:"loadLayout",value:function(){var t=this;this.modal.open(Je,{size:"lg"}).result.then(function(e){if(e){var n=t.layoutService.getLayout(e.layoutName);if(n)if(e.type==Ze.load)t.layout=n,t.loadLayoutInternal(n);else if(e.type==Ze.add){var r=t.modules.concat([]);t.getModules(n.config).forEach(function(t){var e=r.find(function(e){return e.moduleId==t.moduleId});null==e?r.push(t):e.count+=t.count}),t.modules=r}}})}},{key:"importPlans",value:function(){var t=this;this.modal.open(or).result.then(function(e){return t.importResult=e})}},{key:"loadLayoutInternal",value:function(t){this.modules=this.getModules(t.config),this.summaryComponent.productsPrice=null==t.productsPrice?50:t.productsPrice,this.summaryComponent.modulesResourcesPrice=null==t.modulesResourcesPrice?50:t.modulesResourcesPrice,this.summaryComponent.resourcesPrice=null==t.resourcesPrice?50:t.resourcesPrice,this.summaryComponent.provideBasicResources=t.provideBasicResources,this.summaryComponent.provideAllResources=t.provideAllResources,this.summaryComponent.isHq=t.isHeadquarters}},{key:"getModuleConfig",value:function(){return this.modules.map(function(t){return{moduleId:t.moduleId,count:t.count}})}},{key:"getModules",value:function(t){var e=this;return t.map(function(t){return new un(e.wareService,e.moduleService,t.moduleId,t.count)})}},{key:"onSelectPlan",value:function(t){var e=this.layoutService.getLayout(t);e&&this.loadLayoutInternal(e)}}]),n}(Ye.a)).\u0275fac=function(t){return new(t||Gr)(wt.Pb(Ne.c),wt.Pb(ze.a),wt.Pb(je),wt.Pb(sr.c),wt.Pb($e.a),wt.Pb(Fe.a))},Gr.\u0275cmp=wt.Jb({type:Gr,selectors:[["app-station-calculator"]],viewQuery:function(t,e){var n;1&t&&(wt.Ic(nr,3),wt.Ic(jr,1)),2&t&&(wt.vc(n=wt.ic())&&(e.summaryComponent=n.first),wt.vc(n=wt.ic())&&(e.components=n))},features:[wt.zb],decls:57,vars:6,consts:function(){return[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-file"],"\u65B0\u5EFA",["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-save"],"\u4FDD\u5B58","\u4FDD\u5B58\u4E3A",[1,"fa","fa-folder-open"],"\u8BFB\u53D6",["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fa","fa-share-square"],"\u5206\u4EAB",["type","button",1,"btn","btn-sm","btn-dark",3,"click"],[1,"fa","fa-file-text"],"\u5BFC\u5165",[1,"card-body"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-12"],[1,"card-title"],[4,"ngIf"],["class","text-primary",4,"ngIf"],[3,"modules","change"],"\u7A7A\u95F4\u7AD9\u8D44\u6E90",[3,"modules"],["stationResources",""],"\u7A7A\u95F4\u7AD9\u6458\u8981",["stationSummary",""],[1,"col"],[3,"messages"],[3,"result","selectPlan"],"\u7A7A\u95F4\u7AD9\u6A21\u5757",[1,"text-primary"]]},template:function(t,e){1&t&&(wt.Ub(0,"div",0),wt.Ub(1,"div",1),wt.Ub(2,"div",2),wt.Ub(3,"div",3),wt.Ub(4,"button",4),wt.hc("click",function(){return e.newLayout()}),wt.Qb(5,"i",5),wt.Ec(6,"\xa0"),wt.Ub(7,"span"),wt.Yb(8,6),wt.Tb(),wt.Tb(),wt.Ec(9,"\xa0 "),wt.Ub(10,"button",7),wt.hc("click",function(){return e.saveLayout()}),wt.Qb(11,"i",8),wt.Ec(12,"\xa0"),wt.Ub(13,"span"),wt.Yb(14,9),wt.Tb(),wt.Tb(),wt.Ec(15,"\xa0 "),wt.Ub(16,"button",7),wt.hc("click",function(){return e.saveLayoutAs()}),wt.Qb(17,"i",8),wt.Ec(18,"\xa0"),wt.Ub(19,"span"),wt.Yb(20,10),wt.Tb(),wt.Tb(),wt.Ec(21,"\xa0 "),wt.Ub(22,"button",4),wt.hc("click",function(){return e.loadLayout()}),wt.Qb(23,"i",11),wt.Ec(24,"\xa0"),wt.Ub(25,"span"),wt.Yb(26,12),wt.Tb(),wt.Tb(),wt.Ec(27,"\xa0 "),wt.Ub(28,"button",13),wt.hc("click",function(){return e.shareLayout()}),wt.Qb(29,"i",14),wt.Ec(30,"\xa0"),wt.Ub(31,"span"),wt.Yb(32,15),wt.Tb(),wt.Tb(),wt.Ec(33,"\xa0 "),wt.Ub(34,"button",16),wt.hc("click",function(){return e.importPlans()}),wt.Qb(35,"i",17),wt.Ec(36,"\xa0"),wt.Ub(37,"span"),wt.Yb(38,18),wt.Tb(),wt.Tb(),wt.Tb(),wt.Ub(39,"div",19),wt.Cc(40,zr,4,2,"div",20),wt.Ub(41,"div",21),wt.Ub(42,"div",22),wt.Ub(43,"h6",23),wt.Cc(44,Vr,2,0,"span",24),wt.Cc(45,Yr,2,1,"span",25),wt.Tb(),wt.Ub(46,"app-station-modules",26),wt.hc("change",function(){return e.onChange()}),wt.Tb(),wt.Tb(),wt.Ub(47,"div",22),wt.Ub(48,"h6",23),wt.Yb(49,27),wt.Tb(),wt.Qb(50,"app-station-resources",28,29),wt.Tb(),wt.Ub(52,"div",22),wt.Ub(53,"h6",23),wt.Yb(54,30),wt.Tb(),wt.Qb(55,"app-station-summary",28,31),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb(),wt.Tb()),2&t&&(wt.Cb(40),wt.pc("ngIf",e.messages.length||e.importResult),wt.Cb(4),wt.pc("ngIf",!e.layout),wt.Cb(1),wt.pc("ngIf",e.layout),wt.Cb(1),wt.pc("modules",e.modules),wt.Cb(4),wt.pc("modules",e.modules),wt.Cb(5),wt.pc("modules",e.modules))},directives:[Et.l,br,Ir,nr,xr,Br],encapsulation:2}),Gr),Xr=(($r=function t(){Tt(this,t)}).\u0275fac=function(t){return new(t||$r)},$r.\u0275mod=wt.Nb({type:$r}),$r.\u0275inj=wt.Mb({imports:[[ze.f.forChild([{path:"",component:qr}])],ze.f]}),$r),Hr=((Wr=function t(){Tt(this,t)}).\u0275fac=function(t){return new(t||Wr)},Wr.\u0275mod=wt.Nb({type:Wr}),Wr.\u0275inj=wt.Mb({providers:[je],imports:[[Ne.d,Et.b,Pe.c,Se.a,Xr,xe]]}),Wr)},MXF5:function(t,e,n){!function(t){t.parser=function(t,e){return new i(t,e)},t.SAXParser=i,t.SAXStream=s,t.createStream=function(t,e){return new s(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(e,n){if(!(this instanceof i))return new i(e,n);!function(t){for(var e=0,n=r.length;e<n;e++)t[r[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=_.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=Object.create(this.strictEntities?t.XML_ENTITIES:t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),E(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),i.prototype={end:function(){k(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return O(this,"Cannot write after close. Assign an onready handler.");if(null===e)return k(this);"object"==typeof e&&(e=e.toString());for(var n,i,o,s,a=0,c="";c=M(e,a++),this.c=c,c;)switch(this.trackPosition&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++),this.state){case _.BEGIN:if(this.state=_.BEGIN_WHITESPACE,"\ufeff"===c)continue;L(this,c);continue;case _.BEGIN_WHITESPACE:L(this,c);continue;case _.TEXT:if(this.sawRoot&&!this.closedRoot){for(var y=a-1;c&&"<"!==c&&"&"!==c;)(c=M(e,a++))&&this.trackPosition&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(y,a-1)}"<"!==c||this.sawRoot&&this.closedRoot&&!this.strict?(f(c)||this.sawRoot&&!this.closedRoot||x(this,"Text data outside of root node."),"&"===c?this.state=_.TEXT_ENTITY:this.textNode+=c):(this.state=_.OPEN_WAKA,this.startTagPosition=this.position);continue;case _.SCRIPT:"<"===c?this.state=_.SCRIPT_ENDING:this.script+=c;continue;case _.SCRIPT_ENDING:"/"===c?this.state=_.CLOSE_TAG:(this.script+="<"+c,this.state=_.SCRIPT);continue;case _.OPEN_WAKA:"!"===c?(this.state=_.SGML_DECL,this.sgmlDecl=""):f(c)||(b(u,c)?(this.state=_.OPEN_TAG,this.tagName=c):"/"===c?(this.state=_.CLOSE_TAG,this.tagName=""):"?"===c?(this.state=_.PROC_INST,this.procInstName=this.procInstBody=""):(x(this,"Unencoded <"),this.startTagPosition+1<this.position&&(c=new Array(this.position-this.startTagPosition).join(" ")+c),this.textNode+="<"+c,this.state=_.TEXT));continue;case _.SGML_DECL:"[CDATA["===(this.sgmlDecl+c).toUpperCase()?(C(this,"onopencdata"),this.state=_.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+c==="--"?(this.state=_.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+c).toUpperCase()?(this.state=_.DOCTYPE,(this.doctype||this.sawRoot)&&x(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===c?(C(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=_.TEXT):d(c)?(this.state=_.SGML_DECL_QUOTED,this.sgmlDecl+=c):this.sgmlDecl+=c;continue;case _.SGML_DECL_QUOTED:c===this.q&&(this.state=_.SGML_DECL,this.q=""),this.sgmlDecl+=c;continue;case _.DOCTYPE:">"===c?(this.state=_.TEXT,C(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=c,"["===c?this.state=_.DOCTYPE_DTD:d(c)&&(this.state=_.DOCTYPE_QUOTED,this.q=c));continue;case _.DOCTYPE_QUOTED:this.doctype+=c,c===this.q&&(this.q="",this.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:this.doctype+=c,"]"===c?this.state=_.DOCTYPE:d(c)&&(this.state=_.DOCTYPE_DTD_QUOTED,this.q=c);continue;case _.DOCTYPE_DTD_QUOTED:this.doctype+=c,c===this.q&&(this.state=_.DOCTYPE_DTD,this.q="");continue;case _.COMMENT:"-"===c?this.state=_.COMMENT_ENDING:this.comment+=c;continue;case _.COMMENT_ENDING:"-"===c?(this.state=_.COMMENT_ENDED,this.comment=D(this.opt,this.comment),this.comment&&C(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+c,this.state=_.COMMENT);continue;case _.COMMENT_ENDED:">"!==c?(x(this,"Malformed comment"),this.comment+="--"+c,this.state=_.COMMENT):this.state=_.TEXT;continue;case _.CDATA:"]"===c?this.state=_.CDATA_ENDING:this.cdata+=c;continue;case _.CDATA_ENDING:"]"===c?this.state=_.CDATA_ENDING_2:(this.cdata+="]"+c,this.state=_.CDATA);continue;case _.CDATA_ENDING_2:">"===c?(this.cdata&&C(this,"oncdata",this.cdata),C(this,"onclosecdata"),this.cdata="",this.state=_.TEXT):"]"===c?this.cdata+="]":(this.cdata+="]]"+c,this.state=_.CDATA);continue;case _.PROC_INST:"?"===c?this.state=_.PROC_INST_ENDING:f(c)?this.state=_.PROC_INST_BODY:this.procInstName+=c;continue;case _.PROC_INST_BODY:if(!this.procInstBody&&f(c))continue;"?"===c?this.state=_.PROC_INST_ENDING:this.procInstBody+=c;continue;case _.PROC_INST_ENDING:">"===c?(C(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=_.TEXT):(this.procInstBody+="?"+c,this.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:b(l,c)?this.tagName+=c:(P(this),">"===c?A(this):"/"===c?this.state=_.OPEN_TAG_SLASH:(f(c)||x(this,"Invalid character in tag name"),this.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:">"===c?(A(this,!0),U(this)):(x(this,"Forward-slash in opening tag not followed by >"),this.state=_.ATTRIB);continue;case _.ATTRIB:if(f(c))continue;">"===c?A(this):"/"===c?this.state=_.OPEN_TAG_SLASH:b(u,c)?(this.attribName=c,this.attribValue="",this.state=_.ATTRIB_NAME):x(this,"Invalid attribute name");continue;case _.ATTRIB_NAME:"="===c?this.state=_.ATTRIB_VALUE:">"===c?(x(this,"Attribute without value"),this.attribValue=this.attribName,S(this),A(this)):f(c)?this.state=_.ATTRIB_NAME_SAW_WHITE:b(l,c)?this.attribName+=c:x(this,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if("="===c)this.state=_.ATTRIB_VALUE;else{if(f(c))continue;x(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",C(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===c?A(this):b(u,c)?(this.attribName=c,this.state=_.ATTRIB_NAME):(x(this,"Invalid attribute name"),this.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(f(c))continue;d(c)?(this.q=c,this.state=_.ATTRIB_VALUE_QUOTED):(x(this,"Unquoted attribute value"),this.state=_.ATTRIB_VALUE_UNQUOTED,this.attribValue=c);continue;case _.ATTRIB_VALUE_QUOTED:if(c!==this.q){"&"===c?this.state=_.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=c;continue}S(this),this.q="",this.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:f(c)?this.state=_.ATTRIB:">"===c?A(this):"/"===c?this.state=_.OPEN_TAG_SLASH:b(u,c)?(x(this,"No whitespace between attributes"),this.attribName=c,this.attribValue="",this.state=_.ATTRIB_NAME):x(this,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!m(c)){"&"===c?this.state=_.ATTRIB_VALUE_ENTITY_U:this.attribValue+=c;continue}S(this),">"===c?A(this):this.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(this.tagName)">"===c?U(this):b(l,c)?this.tagName+=c:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=_.SCRIPT):(f(c)||x(this,"Invalid tagname in closing tag"),this.state=_.CLOSE_TAG_SAW_WHITE);else{if(f(c))continue;g(u,c)?this.script?(this.script+="</"+c,this.state=_.SCRIPT):x(this,"Invalid tagname in closing tag."):this.tagName=c}continue;case _.CLOSE_TAG_SAW_WHITE:if(f(c))continue;">"===c?U(this):x(this,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var v,w;switch(this.state){case _.TEXT_ENTITY:v=_.TEXT,w="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:v=_.ATTRIB_VALUE_QUOTED,w="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:v=_.ATTRIB_VALUE_UNQUOTED,w="attribValue"}";"===c?(this[w]+=(n=void 0,i=void 0,s=void 0,o=(i=this.entity).toLowerCase(),s="",this.ENTITIES[i]?this.ENTITIES[i]:this.ENTITIES[o]?this.ENTITIES[o]:("#"===(i=o).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),s=(n=parseInt(i,16)).toString(16)):(i=i.slice(1),s=(n=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(n)||s.toLowerCase()!==i?(x(this,"Invalid character entity"),"&"+this.entity+";"):String.fromCodePoint(n))),this.entity="",this.state=v):b(this.entity.length?p:h,c)?this.entity+=c:(x(this,"Invalid character in entity name"),this[w]+="&"+this.entity+c,this.entity="",this.state=v);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=e[r[o]].length;if(a>n)switch(r[o]){case"textNode":I(e);break;case"cdata":C(e,"oncdata",e.cdata),e.cdata="";break;case"script":C(e,"onscript",e.script),e.script="";break;default:O(e,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}e.bufferCheckPosition=t.MAX_BUFFER_LENGTH-i+e.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){I(this),""!==this.cdata&&(C(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(C(this,"onscript",this.script),this.script="")}};try{e=n("DD3b").Stream}catch(R){e=function(){}}var o=t.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function s(t,n){if(!(this instanceof s))return new s(t,n);e.apply(this),this._parser=new i(t,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,o.forEach(function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){if(!e)return r.removeAllListeners(t),r._parser["on"+t]=e,e;r.on(t,e)},enumerable:!0,configurable:!1})})}(s.prototype=Object.create(e.prototype,{constructor:{value:s}})).write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=n("fXKp").StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(t,n){var r=this;return r._parser["on"+t]||-1===o.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),e.prototype.on.call(r,t,n)};var a="http://www.w3.org/XML/1998/namespace",c={xml:a,xmlns:"http://www.w3.org/2000/xmlns/"},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function d(t){return'"'===t||"'"===t}function m(t){return">"===t||f(t)}function b(t,e){return t.test(e)}function g(t,e){return!b(t,e)}var y,v,w,_=0;for(var T in t.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r}),t.STATE)t.STATE[t.STATE[T]]=T;function E(t,e,n){t[e]&&t[e](n)}function C(t,e,n){t.textNode&&I(t),E(t,e,n)}function I(t){t.textNode=D(t.opt,t.textNode),t.textNode&&E(t,"ontext",t.textNode),t.textNode=""}function D(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function O(t,e){return I(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,E(t,"onerror",e),t}function k(t){return t.sawRoot&&!t.closedRoot&&x(t,"Unclosed root tag"),t.state!==_.BEGIN&&t.state!==_.BEGIN_WHITESPACE&&t.state!==_.TEXT&&O(t,"Unexpected end"),I(t),t.c="",t.closed=!0,E(t,"onend"),i.call(t,t.strict,t.opt),t}function x(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&O(t,e)}function P(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,C(t,"onopentagstart",n)}function N(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function S(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=N(t.attribName,!0),n=e.local;if("xmlns"===e.prefix)if("xml"===n&&t.attribValue!==a)x(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)x(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var r=t.tag,i=t.tags[t.tags.length-1]||t;r.ns===i.ns&&(r.ns=Object.create(i.ns)),r.ns[n]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,C(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function A(t,e){if(t.opt.xmlns){var n=t.tag,r=N(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(x(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix),n.ns&&(t.tags[t.tags.length-1]||t).ns!==n.ns&&Object.keys(n.ns).forEach(function(e){C(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var i=0,o=t.attribList.length;i<o;i++){var s=t.attribList[i],a=s[0],c=s[1],u=N(a,!0),l=u.prefix,h=""===l?"":n.ns[l]||"",p={name:a,value:c,prefix:l,local:u.local,uri:h};l&&"xmlns"!==l&&!h&&(x(t,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),t.tag.attributes[a]=p,C(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),C(t,"onopentag",t.tag),e||(t.state=t.noscript||"script"!==t.tagName.toLowerCase()?_.TEXT:_.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function U(t){if(!t.tagName)return x(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=_.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=_.SCRIPT);C(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--&&t.tags[e].name!==r;)x(t,"Unexpected close tag");if(e<0)return x(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=_.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,C(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];t.opt.xmlns&&o.ns!==(t.tags[t.tags.length-1]||t).ns&&Object.keys(o.ns).forEach(function(e){C(t,"onclosenamespace",{prefix:e,uri:o.ns[e]})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=_.TEXT}function L(t,e){"<"===e?(t.state=_.OPEN_WAKA,t.startTagPosition=t.position):f(e)||(x(t,"Non-whitespace before first tag."),t.textNode=e,t.state=_.TEXT)}function M(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}_=t.STATE,String.fromCodePoint||(y=String.fromCharCode,v=Math.floor,w=function(){var t=16384,e=[],n=-1,r=arguments.length;if(!r)return"";for(var i="";++n<r;){var o=Number(arguments[n]);if(!isFinite(o)||o<0||o>1114111||v(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?e.push(o):e.push(55296+((o-=65536)>>10),o%1024+56320),(n+1===r||e.length>t)&&(i+=y.apply(null,e),e.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(e)},OzLs:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n("kud4"),e=n("Bl63"),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},QVo3:function(t,e,n){(function(){"use strict";var t,r,i,o,s,a={}.hasOwnProperty;t=n("dEzR"),r=n("pn46").defaults,o=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},s=function(t){return"<![CDATA["+i(t)+"]]>"},i=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,n;for(e in this.options={},n=r[.2])a.call(n,e)&&(this.options[e]=n[e]);for(e in t)a.call(t,e)&&(this.options[e]=t[e])}return e.prototype.buildObject=function(e){var n,i,c,u,l,h;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===r[.2].rootName?e=e[l=Object.keys(e)[0]]:l=this.options.rootName,h=this,c=function(t,e){var r,u,l,p,f;if("object"!=typeof e)h.options.cdata&&o(e)?t.raw(s(e)):t.txt(e);else if(Array.isArray(e)){for(p in e)if(a.call(e,p))for(f in u=e[p])l=u[f],t=c(t.ele(f),l).up()}else for(f in e)if(a.call(e,f))if(u=e[f],f===n){if("object"==typeof u)for(r in u)t=t.att(r,u[r])}else if(f===i)t=h.options.cdata&&o(u)?t.raw(s(u)):t.txt(u);else if(Array.isArray(u))for(p in u)a.call(u,p)&&(t="string"==typeof(l=u[p])?h.options.cdata&&o(l)?t.ele(f).raw(s(l)).up():t.ele(f,l).up():c(t.ele(f),l).up());else"object"==typeof u?t=c(t.ele(f),u).up():"string"==typeof u&&h.options.cdata&&o(u)?t=t.ele(f).raw(s(u)).up():(null==u&&(u=""),t=t.ele(f,u.toString()).up());return t},u=t.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(u,e).end(this.options.renderOpts)},e}()}).call(this)},RfOz:function(t,e){(function(){var e,n,r,i,o,s,a,c=[].slice,u={}.hasOwnProperty;e=function(){var t,e,n,r,i,s;if(s=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=i.length;t<n;t++)if(null!=(r=i[t]))for(e in r)u.call(r,e)&&(s[e]=r[e]);return s},o=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return o(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},i=function(t){var e;if(r(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},a=function(t){var e,n;return s(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},n=function(t){return o(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=o,t.exports.isObject=s,t.exports.isArray=r,t.exports.isEmpty=i,t.exports.isPlainObject=a,t.exports.getValue=n}).call(this)},U26E:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n("Bl63"),r=n("V4+3"),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},UNeu:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n("Bl63"),r=n("kud4"),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},Uo1N:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n("RfOz").isObject,r=n("kud4"),e=n("Bl63"),t.exports=function(t){function n(t,r,o,s){var a;n.__super__.constructor.call(this,t),i(r)&&(r=(a=r).version,o=a.encoding,s=a.standalone),r||(r="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(r),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},"V4+3":function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n("kud4"),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},VN3C:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,h,p,f,d,m,b,g,y,v,w,_,T,E,C,I={}.hasOwnProperty;C=n("RfOz"),T=C.isObject,_=C.isFunction,E=C.isPlainObject,w=C.getValue,e=n("Bl63"),f=n("rgrL"),d=n("uO6I"),o=n("U26E"),s=n("iTBR"),b=n("UNeu"),v=n("nS9B"),m=n("8BaB"),h=n("Uo1N"),p=n("1+OA"),a=n("GI8a"),u=n("FYWk"),c=n("OzLs"),l=n("tuH/"),i=n("IoDD"),y=n("WmE4"),g=n("HwjW"),r=n("CYXk"),t.exports=function(){function t(t,n,r){var i;this.name="?xml",this.type=e.Document,t||(t={}),i={},t.writer?E(t.writer)&&(i=t.writer,t.writer=new g):t.writer=new g,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new y(t),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var n,r,i,o,s,a,c;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(n in r={},a=t.attribs)I.call(a,n)&&(r[n]=a[n].value);this.node(t.name,r);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(o=0,s=(c=t.children).length;o<s;o++)this.createChildNode(i=c[o]),i.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=w(t),null==e&&(e={}),e=w(e),T(e)||(n=(r=[e,n])[0],e=r[1]),this.currentNode=new d(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},t.prototype.element=function(t,n,r){var i,o,s,a,c,u;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||T(t)||_(t))for(a=this.options.noValidation,this.options.noValidation=!0,(u=new f(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,o=0,s=(c=u.children).length;o<s;o++)this.createChildNode(i=c[o]),i.type===e.Element&&this.up();else this.node(t,n,r);return this},t.prototype.attribute=function(t,e){var n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=w(t)),T(t))for(n in t)I.call(t,n)&&this.attribute(n,t[n]);else _(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new i(this,t,""):null!=e&&(this.currentNode.attribs[t]=new i(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new v(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new o(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new b(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var n,r,i,o;if(this.openCurrent(),null!=t&&(t=w(t)),null!=e&&(e=w(e)),Array.isArray(t))for(n=0,i=t.length;n<i;n++)this.instruction(r=t[n]);else if(T(t))for(r in t)I.call(t,r)&&this.instruction(r,t[r]);else _(e)&&(e=e.apply()),o=new m(this,t,e),this.onData(this.writer.processingInstruction(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new h(this,t,e,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new c(this,t,e),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,n,r,i){var o;return this.openCurrent(),o=new a(this,t,e,n,r,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new u(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new u(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new l(this,t,e),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var n,i,o;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),n="",t.type===e.Element){for(i in this.writerOptions.state=r.OpenTag,n=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,o=t.attribs)I.call(o,i)&&(n+=this.writer.attribute(o[i],this.writerOptions,this.currentLevel));n+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,n=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),t.children?(n+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,n+=">"),n+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(n,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var n;if(!t.isClosed)return this.writerOptions.state=r.CloseTag,n=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},WmE4:function(t,e){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){var r,i;for(r in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),i=t.stringify||{})n.call(i,r)&&(this[r]=i[r])}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e;if(this.options.noValidation)return t;if("1.0"===this.options.version){if(e=t.match(/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+t+" at index "+e.index)}else if("1.1"===this.options.version&&(e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/)))throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},t.prototype.assertLegalName=function(t){if(this.options.noValidation)return t;if(this.assertLegalChar(t),!t.match(/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/))throw new Error("Invalid character in name");return t},t.prototype.textEscape=function(t){return this.options.noValidation?t:t.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){return this.options.noValidation?t:t.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},"XCq/":function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},b5cc:function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},dEzR:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,h;h=n("RfOz"),u=h.assign,l=h.isFunction,i=n("Cm3p"),o=n("rgrL"),s=n("VN3C"),c=n("HwjW"),a=n("w3aC"),e=n("Bl63"),r=n("CYXk"),t.exports.create=function(t,e,n,r){var i,s;if(null==t)throw new Error("Root element needs a name.");return r=u({},e,n,r),s=(i=new o(r)).element(t),r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.dtd(r)),s},t.exports.begin=function(t,e,n){var r;return l(t)&&(e=(r=[t,e])[0],n=r[1],t={}),e?new s(t,e,n):new o(t)},t.exports.stringWriter=function(t){return new c(t)},t.exports.streamWriter=function(t,e){return new a(t,e)},t.exports.implementation=new i,t.exports.nodeType=e,t.exports.writerState=r}).call(this)},fXKp:function(t,e,n){"use strict";var r=n("hwdV").Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},gTaY:function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},hwdV:function(t,e,n){var r=n("tjlA"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},i6Br:function(t,e,n){(function(){var e,r;e=n("n6As"),r=n("G/lS"),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},iTBR:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n("Bl63"),r=n("V4+3"),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},j0oL:function(t,e){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function r(){n.off(t,r),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"kVK+":function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+f]=255&s,f+=d,s/=256,u-=8);t[n+f-d]|=128*m}},kud4:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,h,p,f,d,m,b,g,y,v={}.hasOwnProperty;y=n("RfOz"),g=y.isObject,b=y.isFunction,m=y.isEmpty,d=y.getValue,u=null,i=null,o=null,s=null,a=null,p=null,f=null,h=null,c=null,r=null,l=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=n("uO6I"),i=n("U26E"),o=n("iTBR"),s=n("Uo1N"),a=n("1+OA"),p=n("UNeu"),f=n("nS9B"),h=n("8BaB"),c=n("Dh7r"),r=n("Bl63"),l=n("BMbm"),n("XCq/"),e=n("0dQ4"))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,n,i,o;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(o="",e=0,n=(i=this.children).length;e<n;e++)(t=i[e]).textContent&&(o+=t.textContent);return o}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,n,r,i;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),i=[],e=0,n=(r=this.children).length;e<n;e++)i.push(r[e].setParent(this));return i},t.prototype.element=function(t,e,n){var r,i,o,s,a,c,u,l,h,p;if(a=null,null===e&&null==n&&(e=(l=[{},null])[0],n=l[1]),null==e&&(e={}),e=d(e),g(e)||(n=(h=[e,n])[0],e=h[1]),null!=t&&(t=d(t)),Array.isArray(t))for(i=0,c=t.length;i<c;i++)a=this.element(t[i]);else if(b(t))a=this.element(t.apply());else if(g(t)){for(s in t)if(v.call(t,s))if(b(p=t[s])&&(p=p.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))a=this.attribute(s.substr(this.stringify.convertAttKey.length),p);else if(!this.options.separateArrayItems&&Array.isArray(p)&&m(p))a=this.dummy();else if(g(p)&&m(p))a=this.element(s);else if(this.options.keepNullNodes||null!=p)if(!this.options.separateArrayItems&&Array.isArray(p))for(o=0,u=p.length;o<u;o++)(r={})[s]=p[o],a=this.element(r);else g(p)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===s.indexOf(this.stringify.convertTextKey)?a=this.element(p):(a=this.element(s)).element(p):a=this.element(s,p);else a=this.dummy()}else a=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n):this.dummy();if(null==a)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return a},t.prototype.insertBefore=function(t,e,n){var r,i,o,s,a;if(null!=t?t.type:void 0)return s=e,(o=t).setParent(this),s?(i=children.indexOf(s),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,a),r},t.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=d(t)),e||(e={}),e=d(e),g(e)||(n=(i=[e,n])[0],e=i[1]),r=new u(this,t,e),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(t){var e;return g(t)&&this.element(t),e=new f(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(t){var e;return e=new p(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new c(this)},t.prototype.instruction=function(t,e){var n,r,i,o;if(null!=t&&(t=d(t)),null!=e&&(e=d(e)),Array.isArray(t))for(i=0,o=t.length;i<o;i++)this.instruction(n=t[i]);else if(g(t))for(n in t)v.call(t,n)&&this.instruction(n,t[n]);else b(e)&&(e=e.apply()),r=new h(this,t,e),this.children.push(r);return this},t.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(t,e,n){var i,o;return i=this.document(),o=new s(i,t,e,n),0===i.children.length?i.children.unshift(o):i.children[0].type===r.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},t.prototype.dtd=function(t,e){var n,i,o,s,c,u,l,h,p;for(n=this.document(),i=new a(n,t,e),o=s=0,u=(h=n.children).length;s<u;o=++s)if(h[o].type===r.DocType)return n.children[o]=i,i;for(o=c=0,l=(p=n.children).length;c<l;o=++c)if(p[o].isRoot)return n.children.splice(o,0,i),i;return n.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===r.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===r.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,n;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var n;return this===t?0:this.document()!==t.document()?(n=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?n|=e.Preceding:n|=e.Following,n):this.isAncestor(t)?e.Contains|e.Preceding:this.isDescendant(t)?e.Contains|e.Following:this.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,n,r;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++){if(t===(e=i[n]))return!0;if(e.isDescendant(t))return!0}return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e<n},t.prototype.isFollowing=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e>n},t.prototype.treePosition=function(t){var e,n;return n=0,e=!1,this.foreachTreeNode(this.document(),function(r){if(n++,!e&&r===t)return e=!0}),e?n:-1},t.prototype.foreachTreeNode=function(t,e){var n,r,i,o,s;for(t||(t=this.document()),r=0,i=(o=t.children).length;r<i;r++){if(s=e(n=o[r]))return s;if(s=this.foreachTreeNode(n,e))return s}},t}()}).call(this)},n6As:function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(this)},nS9B:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n("Bl63"),r=n("V4+3"),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var t,e,n;for(n="",e=this.previousSibling;e;)n=e.data+n,e=e.previousSibling;for(n+=this.data,t=this.nextSibling;t;)n+=t.data,t=t.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},n.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},"pLb+":function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n("RfOz").assign,e=n("Bl63"),n("Uo1N"),n("1+OA"),n("U26E"),n("iTBR"),n("uO6I"),n("UNeu"),n("nS9B"),n("8BaB"),n("Dh7r"),n("GI8a"),n("OzLs"),n("FYWk"),n("tuH/"),r=n("CYXk"),t.exports=function(){function t(t){var e,n,r;for(e in t||(t={}),this.options=t,n=t.writer||{})o.call(n,e)&&(r=n[e],this["_"+e]=this[e],this[e]=r)}return t.prototype.filterOptions=function(t){var e,n,o,s,a,c,u,l;return t||(t={}),t=i({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(n=t.indent)?n:"  ",e.newline=null!=(o=t.newline)?o:"\n",e.offset=null!=(s=t.offset)?s:0,e.dontPrettyTextNodes=null!=(a=null!=(c=t.dontPrettyTextNodes)?c:t.dontprettytextnodes)?a:0,e.spaceBeforeSlash=null!=(u=null!=(l=t.spaceBeforeSlash)?l:t.spacebeforeslash)?u:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=r.None,e},t.prototype.indent=function(t,e,n){var r;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(r=(n||0)+e.offset+1)>0?new Array(r).join(e.indent):""},t.prototype.endline=function(t,e,n){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,n){var r;return this.openAttribute(t,e,n),r=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,n),r},t.prototype.cdata=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<![CDATA[",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+="]]>"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.comment=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"\x3c!-- ",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=" --\x3e"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.declaration=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?xml",e.state=r.InsideTag,i+=' version="'+t.version+'"',null!=t.encoding&&(i+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(i+=' standalone="'+t.standalone+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.docType=function(t,e,n){var i,o,s,a;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,s=this.indent(t,e,n),s+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?s+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(s+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(s+=" [",s+=this.endline(t,e,n),e.state=r.InsideTag,i=0,o=(a=t.children).length;i<o;i++)s+=this.writeChildNode(a[i],e,n+1);e.state=r.CloseTag,s+="]"}return e.state=r.CloseTag,s+=e.spaceBeforeSlash+">",s+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),s},t.prototype.element=function(t,n,i){var s,a,c,u,l,h,p,f,d,m,b,g,y;for(f in i||(i=0),d=!1,m="",this.openNode(t,n,i),n.state=r.OpenTag,m+=this.indent(t,n,i)+"<"+t.name,b=t.attribs)o.call(b,f)&&(m+=this.attribute(b[f],n,i));if(c=0===(a=t.children.length)?null:t.children[0],0===a||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value}))n.allowEmpty?(m+=">",n.state=r.CloseTag,m+="</"+t.name+">"+this.endline(t,n,i)):(n.state=r.CloseTag,m+=n.spaceBeforeSlash+"/>"+this.endline(t,n,i));else if(!n.pretty||1!==a||c.type!==e.Text&&c.type!==e.Raw||null==c.value){if(n.dontPrettyTextNodes)for(u=0,h=(g=t.children).length;u<h;u++)if(((s=g[u]).type===e.Text||s.type===e.Raw)&&null!=s.value){n.suppressPrettyCount++,d=!0;break}for(m+=">"+this.endline(t,n,i),n.state=r.InsideTag,l=0,p=(y=t.children).length;l<p;l++)m+=this.writeChildNode(s=y[l],n,i+1);n.state=r.CloseTag,m+=this.indent(t,n,i)+"</"+t.name+">",d&&n.suppressPrettyCount--,m+=this.endline(t,n,i),n.state=r.None}else m+=">",n.state=r.InsideTag,n.suppressPrettyCount++,d=!0,m+=this.writeChildNode(c,n,i+1),n.suppressPrettyCount--,d=!1,n.state=r.CloseTag,m+="</"+t.name+">"+this.endline(t,n,i);return this.closeNode(t,n,i),m},t.prototype.writeChildNode=function(t,n,r){switch(t.type){case e.CData:return this.cdata(t,n,r);case e.Comment:return this.comment(t,n,r);case e.Element:return this.element(t,n,r);case e.Raw:return this.raw(t,n,r);case e.Text:return this.text(t,n,r);case e.ProcessingInstruction:return this.processingInstruction(t,n,r);case e.Dummy:return"";case e.Declaration:return this.declaration(t,n,r);case e.DocType:return this.docType(t,n,r);case e.AttributeDeclaration:return this.dtdAttList(t,n,r);case e.ElementDeclaration:return this.dtdElement(t,n,r);case e.EntityDeclaration:return this.dtdEntity(t,n,r);case e.NotationDeclaration:return this.dtdNotation(t,n,r);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?",e.state=r.InsideTag,i+=t.target,t.value&&(i+=" "+t.value),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.raw=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.text=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdAttList=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ATTLIST",e.state=r.InsideTag,i+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(i+=" "+t.defaultValueType),t.defaultValue&&(i+=' "'+t.defaultValue+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdElement=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ELEMENT",e.state=r.InsideTag,i+=" "+t.name+" "+t.value,e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdEntity=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ENTITY",e.state=r.InsideTag,t.pe&&(i+=" %"),i+=" "+t.name,t.value?i+=' "'+t.value+'"':(t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.nData&&(i+=" NDATA "+t.nData)),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdNotation=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!NOTATION",e.state=r.InsideTag,i+=" "+t.name,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?i+=' PUBLIC "'+t.pubID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.openNode=function(t,e,n){},t.prototype.closeNode=function(t,e,n){},t.prototype.openAttribute=function(t,e,n){},t.prototype.closeAttribute=function(t,e,n){},t}()}).call(this)},pn46:function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},qxDF:function(t,e,n){(function(){"use strict";var t,r,i,o,s,a,c,u,l=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty;c=n("MXF5"),i=n("+qE3"),t=n("b5cc"),a=n("gTaY"),u=n("62BN").setImmediate,r=n("pn46").defaults,o=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},s=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)e=(0,t[r])(e,n);return e},e.Parser=function(n){function i(t){var n,i;if(this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(n in this.options={},i=r[.2])h.call(i,n)&&(this.options[n]=i[n]);for(n in t)h.call(t,n)&&(this.options[n]=t[n]);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(t,e){for(var n in e)h.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,n),i.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),u(this.processAsync))}catch(n){if(e=n,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},i.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):t[e]=this.options.explicitArray?[n]:n},i.prototype.reset=function(){var t,e,n,r,i;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(t){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,a,c,u,l;if((c={})[e]="",!n.options.ignoreAttrs)for(o in l=i.attributes)h.call(l,o)&&(t in c||n.options.mergeAttrs||(c[t]={}),a=n.options.attrValueProcessors?s(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],u=n.options.attrNameProcessors?s(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(c,u,a):c[t][u]=a);return c["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(c[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(c)}}(this),this.saxParser.onclosetag=function(t){return function(){var n,i,a,c,u,l,p,f,d,m;if(l=r.pop(),u=l["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(n=l.cdata,delete l.cdata),d=r[r.length-1],l[e].match(/^\s*$/)&&!n?(i=l[e],delete l[e]):(t.options.trim&&(l[e]=l[e].trim()),t.options.normalize&&(l[e]=l[e].replace(/\s{2,}/g," ").trim()),l[e]=t.options.valueProcessors?s(t.options.valueProcessors,l[e],u):l[e],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])),o(l)&&(l=""!==t.options.emptyTag?t.options.emptyTag:i),null!=t.options.validator&&(m="/"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)n.push((c=r[t])["#name"]);return n}().concat(u).join("/"),function(){try{l=t.options.validator(m,d&&d[u],l)}catch(e){return t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof l)if(t.options.preserveChildrenOrder){if(d){for(a in d[t.options.childkey]=d[t.options.childkey]||[],p={},l)h.call(l,a)&&(p[a]=l[a]);d[t.options.childkey].push(p),delete l["#name"],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])}}else c={},t.options.attrkey in l&&(c[t.options.attrkey]=l[t.options.attrkey],delete l[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in l&&(c[t.options.charkey]=l[t.options.charkey],delete l[t.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(c[t.options.childkey]=l),l=c;return r.length>0?t.assignOrPush(d,u,l):(t.options.explicitRoot&&(f=l,(l={})[u]=f),t.resultObject=l,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),n=function(t){return function(n){var i,o;if(o=r[r.length-1])return o[e]+=n,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[t.options.childkey]=o[t.options.childkey]||[],(i={"#name":"__text__"})[e]=n,t.options.normalize&&(i[e]=i[e].replace(/\s{2,}/g," ").trim()),o[t.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(t){var e;if(e=n(t))return e.cdata=!0}},i.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",function(t){return this.reset(),n(null,t)}),this.on("error",function(t){return this.reset(),n(t)}));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,u(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(i){if(r=i,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(t){return new Promise((e=this,function(n,r){return e.parseString(t,function(t,e){return t?r(t):n(e)})}));var e},i}(i),e.parseString=function(t,n,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),new e.Parser(o).parseString(t,i)},e.parseStringPromise=function(t,n){var r;return"object"==typeof n&&(r=n),new e.Parser(r).parseStringPromise(t)}}).call(this)},rgrL:function(t,e,n){(function(){var e,r,i,o,s,a,c,u={}.hasOwnProperty;c=n("RfOz").isPlainObject,i=n("Cm3p"),r=n("i6Br"),o=n("kud4"),e=n("Bl63"),a=n("WmE4"),s=n("HwjW"),t.exports=function(t){function n(t){n.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new r,t||(t={}),t.writer||(t.writer=new s),this.options=t,this.stringify=new a(t)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"implementation",{value:new i}),Object.defineProperty(n.prototype,"doctype",{get:function(){var t,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++)if((t=i[n]).type===e.DocType)return t;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(t){var e;return e={},t?c(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},n.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},n.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(o)}).call(this)},tjlA:function(t,e,n){"use strict";var r=n("H7XF"),i=n("kVK+"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|d(t,e),r=s(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(B(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(B(t,ArrayBuffer)||t&&B(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(B(t,SharedArrayBuffer)||t&&B(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);var i=function(t){if(a.isBuffer(t)){var e=0|f(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||j(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return u(t),s(t<0?0:0|f(t))}function h(t){for(var e=t.length<0?0:0|f(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,a.prototype),r}function f(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function d(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(t).length;default:if(i)return r?-1:M(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),j(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,p=0;p<c;p++)if(u(t,o+p)!==u(e,p)){h=!1;break}if(h)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(j(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return F(M(e,t.length-n),t,n,r)}function _(t,e,n,r){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return F(R(e),t,n,r)}function E(t,e,n,r){return F(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function C(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:s=t[i+2],128==(192&(o=t[i+1]))&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:s=t[i+2],a=t[i+3],128==(192&(o=t[i+1]))&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=z[t[o]];return i}function x(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function S(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(t,e,n,r,o){return e=+e,n>>>=0,o||S(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return e=+e,n>>>=0,o||S(t,0,n,8),i.write(t,e,n,r,52,8),n+8}e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,(a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(B(o,Uint8Array))i+o.length>r.length?a.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):m.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(t,e,n,r,i){if(B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),c=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n),h=0;h<c;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return _(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return A(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return A(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),c=s.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%c]}return this};var L=/[^+/0-9A-Za-z-_]/g;function M(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function B(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function j(t){return t!=t}var z=function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,r=0;r<16;++r)t[n+r]="0123456789abcdef"[e]+"0123456789abcdef"[r];return t}()},"tuH/":function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n("kud4"),e=n("Bl63"),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=e.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},uO6I:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l={}.hasOwnProperty;u=n("RfOz"),c=u.isObject,a=u.isFunction,s=u.getValue,o=n("kud4"),e=n("Bl63"),r=n("IoDD"),i=n("XCq/"),t.exports=function(t){function n(t,r,i){var o,s,a,c;if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(s=0,a=(c=t.children).length;s<a;s++)if((o=c[s]).type===e.DocType){o.name=this.name;break}}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var t,e,n;for(t in(e=Object.create(this)).isRoot&&(e.documentObject=null),e.attribs={},n=this.attribs)l.call(n,t)&&(e.attribs[t]=n[t].clone());return e.children=[],this.children.forEach(function(t){var n;return(n=t.clone()).parent=e,e.children.push(n)}),e},n.prototype.attribute=function(t,e){var n;if(null!=t&&(t=s(t)),c(t))for(n in t)l.call(t,n)&&this.attribute(n,t[n]);else a(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new r(this,t,""):null!=e&&(this.attribs[t]=new r(this,t,e));return this},n.prototype.removeAttribute=function(t){var e,n;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=s(t),Array.isArray(t))for(e=0,n=t.length;e<n;e++)delete this.attribs[t[e]];else delete this.attribs[t];return this},n.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},n.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},n.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},n.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},n.prototype.setIdAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(t){var e,r,i;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=r=0,i=this.attribs.length-1;0<=i?r<=i:r>=i;e=0<=i?++r:--r)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},n}(o)}).call(this)},w3aC:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;e=n("Bl63"),i=n("pLb+"),r=n("CYXk"),t.exports=function(t){function n(t,e){this.stream=t,n.__super__.constructor.call(this,e)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.endline=function(t,e,i){return t.isLastRootNode&&e.state===r.CloseTag?"":n.__super__.endline.call(this,t,e,i)},n.prototype.document=function(t,e){var n,r,i,o,s,a,c,u;for(n=r=0,o=(a=t.children).length;r<o;n=++r)a[n].isLastRootNode=n===t.children.length-1;for(e=this.filterOptions(e),u=[],i=0,s=(c=t.children).length;i<s;i++)u.push(this.writeChildNode(c[i],e,0));return u},n.prototype.attribute=function(t,e,r){return this.stream.write(n.__super__.attribute.call(this,t,e,r))},n.prototype.cdata=function(t,e,r){return this.stream.write(n.__super__.cdata.call(this,t,e,r))},n.prototype.comment=function(t,e,r){return this.stream.write(n.__super__.comment.call(this,t,e,r))},n.prototype.declaration=function(t,e,r){return this.stream.write(n.__super__.declaration.call(this,t,e,r))},n.prototype.docType=function(t,e,n){var i,o,s;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,this.stream.write(this.indent(t,e,n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,n)),e.state=r.InsideTag,i=0,o=(s=t.children).length;i<o;i++)this.writeChildNode(s[i],e,n+1);e.state=r.CloseTag,this.stream.write("]")}return e.state=r.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,n)),e.state=r.None,this.closeNode(t,e,n)},n.prototype.element=function(t,n,i){var s,a,c,u,l,h,p;for(l in i||(i=0),this.openNode(t,n,i),n.state=r.OpenTag,this.stream.write(this.indent(t,n,i)+"<"+t.name),h=t.attribs)o.call(h,l)&&this.attribute(h[l],n,i);if(a=0===(s=t.children.length)?null:t.children[0],0===s||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value}))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+t.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==s||a.type!==e.Text&&a.type!==e.Raw||null==a.value){for(this.stream.write(">"+this.endline(t,n,i)),n.state=r.InsideTag,c=0,u=(p=t.children).length;c<u;c++)this.writeChildNode(p[c],n,i+1);n.state=r.CloseTag,this.stream.write(this.indent(t,n,i)+"</"+t.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,this.writeChildNode(a,n,i+1),n.suppressPrettyCount--,n.state=r.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,n,i)),n.state=r.None,this.closeNode(t,n,i)},n.prototype.processingInstruction=function(t,e,r){return this.stream.write(n.__super__.processingInstruction.call(this,t,e,r))},n.prototype.raw=function(t,e,r){return this.stream.write(n.__super__.raw.call(this,t,e,r))},n.prototype.text=function(t,e,r){return this.stream.write(n.__super__.text.call(this,t,e,r))},n.prototype.dtdAttList=function(t,e,r){return this.stream.write(n.__super__.dtdAttList.call(this,t,e,r))},n.prototype.dtdElement=function(t,e,r){return this.stream.write(n.__super__.dtdElement.call(this,t,e,r))},n.prototype.dtdEntity=function(t,e,r){return this.stream.write(n.__super__.dtdEntity.call(this,t,e,r))},n.prototype.dtdNotation=function(t,e,r){return this.stream.write(n.__super__.dtdNotation.call(this,t,e,r))},n}(i)}).call(this)}}])}();